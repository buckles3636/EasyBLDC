$$$$ EasyBLDCPowerStageV3/EasyBLDCV3/schematic

** Generated by:  InfineonSpiceDE
** Generated for: TITAN
** Generated on:  2/27/2025 11:27:31 AM

** Design project name: EasyBLDCPowerStageV3
** Design cell name:    EasyBLDCV3
** Design view type:    schematic
** Path to design:      C:\Users\peter\AppData\Roaming\Infineon\InfineonSpice\UserProjects\EasyBLDCPowerStageV3.iflnk\EasyBLDCV3.ifsch


.GLOBAL 0


** Include of: C:/Users\peter\AppData\Roaming\Infineon\InfineonSpice\Libraries\Gate Driver Half-bridge 2EDL05N06PF\2EDL05N06PF.lib
******************************************************************************
*  Simulation model of 2EDL05N06PF Level 1 for SIMetrix version 8.3g or higher
*  Version: 01.03 (Revision: 423)
*  (C) Copyright 2020 Infineon Technologies. All rights reserved. 
*
******************************************************************************
*  Model performance : 
*  - Static Electrical Characteristics and Dynamic Electrical Characteristics 
*    are modeled with the typical values from the datasheet.
*  - Temperature effects are not modeled
*
*  The following features have been modeled :
*  - Switching Characteristics such as propagation delay, peak currents
*  - Undervoltage lockout 
*  - Bootstrap diode
*
******************************************************************************
* PINS:
*  --------------------------------------------------------------------------
*  | NAME | DESCRIPTION 
*  --------------------------------------------------------------------------
*  | LO   | Low side gate drive output 
*  --------------------------------------------------------------------------
*  | HO   | High side gate drive output 
*  --------------------------------------------------------------------------
*  | GND  | Logic ground 
*  --------------------------------------------------------------------------
*  | LIN  | Logic input for low side gate driver output (LO), in phase 
*  --------------------------------------------------------------------------
*  | HIN  | Logic input for high side gate driver output (HO), in phase 
*  --------------------------------------------------------------------------
*  | VDD  | Logic supply 
*  --------------------------------------------------------------------------
*  | VB   | High side floating supply 
*  --------------------------------------------------------------------------
*  | VS   | High side floating supply return 
*  --------------------------------------------------------------------------
*
******************************************************************************
* DISCLAIMER
* 
* INFINEONâ€™S MODEL TERMS OF USE
*
* BY DOWNLOADING AND/OR USING THIS INFINEON MODEL (â€œMODELâ€), THE USER
* (INCLUDING YOU) AGREES TO BE BOUND BY THE TERMS OF USE HERE STATED. IF USER
* DOES NOT AGREE TO ALL TERMS OF USE HERE STATED, USER SHALL NOT DOWNLOAD,
* USE OR COPY THE MODEL BUT IMMEDIATELY DELETE IT (TO THE EXTENT THAT IT
* WAS DOWNLOADED ALREADY).
*
* 1. SCOPE OF USE
* 1.1 Any use of this Model provided by Infineon Technologies AG is subject
*     to these Terms of Use.
* 1.2 This Model, provided by Infineon, does not fully represent all of the
*     specifications and operating characteristics of the product to which
*     this Model relates.
* 1.3 This Model only describes the characteristics of a typical product.
*     In all cases, the current data sheet information for a given product
*     is the final design guideline and the only actual performance
*     specification. Although this Model can be a useful tool to evaluate
*     the product performance, it cannot simulate the exact product performance
*     under all conditions and it is also not intended to replace
*     bread-boarding for final verification.
*
* 2. IMPORTANT NOTICE
* 2.1 Infineon Technologies AG (â€œInfineonâ€) is not and cannot be aware of the
*     specific application of the Infineonâ€™s Model by User. However, Model may
*     from time to time be used by User in potentially harmful and/or life-
*     endangering applications such as traffic, logistic, medical, nuclear
*     or military applications or in other applications where failure of the
*     Model may predictably cause damage to personsâ€™ life or health or to
*     property (hereinafter "Critical Applications").
* 2.2 User acknowledges that Infineon has not specifically designed or
*     qualified the Model for Critical Applications that the Model may contain
*     errors and bugs and that User is required to qualify the Model for
*     Critical Applications pursuant to the applicable local quality, safety
*     and legal requirements before permitting or giving access to any such use.
*
* 3. CONFIDENTIAL INFORMATION
*     User shall treat ideas, concepts and information incorporated in the
*     Model, the documentation and the content of this Terms of Use (together
*     hereinafter "Confidential Information") confidential, not disclose it to
*     any third party unless otherwise agreed in writing between User and
*     Infineon, not use it for any other purposes than using the Model for
*     simulation and testing purposes only.
*
* 4. WARRANTY
* 4.1 User acknowledges that the Model is provided by Infineon under this Terms	       
*     of Use is provided free of charge and "AS IS" without any warranty or 	      
*     liability of any kind and Infineon hereby expressly disclaims any 		      
*     warranties or representations, whether express, implied, statutory or 	      
*     otherwise, including but not limited to warranties of workmanship, 		      
*     merchantability, fitness for a particular purpose, defects in the 		      
*     Model, or non-infringement of third parties intellectual property rights.	       
* 4.2 Infineon reserves the right to make corrections, deletions, modifications, 	      
*     enhancements, improvements and other changes to the Model at any time 	      
*     or to move or discontinue any Model without notice. 			      
* 										      
* 5. LIABILITY 									      
* 5.1 Nothing in this Terms of Use shall limit or exclude Infineon's liability 	      
*     under mandatory liability laws, for injuries to life, body or health,  	      
*     for fraudulent concealment of defects in the software, or in cases 		      
*     of Infineon's intentional misconduct or gross negligence. 			      
* 5.2 Without prejudice to Sections 5.1, in cases of Infineon's slight		       
*     negligent breach of obligations that restrict essential rights or duties 	      
*     arising from the nature of this Terms of Use in a way that there is a 	      
*     risk of non-achievement of the purpose of this Terms of Use or of an 	      
*     obligation whose observance User regularly may trust in and whereas		       
*     compliance with only makes proper execution of this Terms of Use 		      
*     possible, Infineon's liability shall be limited to the typically, 		      
*     foreseeable damage. 							      
* 5.3 Without prejudice to Sections 8.1 and 8.2, Infineon's liability under 	      
*     this Agreement shall be excluded in all other cases. 			      
* 										      
* 6. EXPORT REGULATIONS 								      
*     The User shall comply with all applicable national and international 	      
*     laws and regulations, in particular the applicable export control 		      
*     regulations and sanction programs. The User also agrees not to 		      
*     export, re-export or transfer any software or technology developed		       
*     with or using information, software or technology offered by Infineon, 	      
*     in violation of any applicable laws or regulations of the competent 	      
*     authorities. Further, the User shall neither use any products, 		      
*     information, software and technology offered by Infineon in or in 		      
*     connection with nuclear technology or weapons of mass destruction 		      
*     (nuclear, biological or chemical) and carriers thereof nor supply 		      
*     military consignees. 							      
* 										      
* 7. TERMINATION OF USE PERMIT 							      
*     If the User violates these Terms of Use, such Userâ€™s permit to use 		      
*     this Model terminates automatically. In addition, Infineon may 		      
*     terminate the Userâ€™s permit to use this Model at its discretion and 	      
*     at any time regardless of any violation of these Terms of Use. In 		      
*     any of the foregoing events, the User is obliged to immediately destroy 	      
*     any content that has been downloaded or printed from Infineonâ€™s website. 	      
* 										      
* 8. MISCELLANEOUS 								      
* 8.1 These Terms of Use are subject to the laws of the Federal Republic 		      
*     of Germany with the exception of the United Nations on Purchase 		      
*     Contracts on the International Sale of Goods dated April 11, 1980 (CISG). 	      
*     The exclusive place of jurisdiction is Munich, Germany. 			      
* 8.2 Should any provision in these Terms of Use be or become invalid, the 	      
*     validity of all other provisions or agreements shall remain unaffected
*     thereby.
*
******************************************************************************
.SUBCKT 2EDL05N06PF LO HO GND LIN HIN VDD VB VS
R_HIN HIN GND 1E12
C_HIN HIN GND 1F
R_HO HO GND 1E12
C_HO HO GND 1F
R_VB VB GND 1E12
C_VB VB GND 1F
R_VS VS GND 1E12
C_VS VS GND 1F
R_LIN LIN GND 1E12
C_LIN LIN GND 1F
R_LO LO GND 1E12
C_OUT LO GND 1F
R_VCC VDD GND 1E12
C_VCC VDD GND 1F
E_SD SD GND VALUE={5}
R_DT DT GND 1
C_DT DT GND 1P
X_GD_TEMPLATE LO HO GND LIN HIN VDD VB VS SD DT TWO_EDL05N06PF_GD_TEMPLATE
.ENDS 2EDL05N06PF
.SUBCKT TWO_EDL05N06PF_GD_TEMPLATE LO HO COM LIN HIN VCC VB VS SD DT PARAMS: HB_EN=1 SHT_EN=0 P_OFFSET_DT=7.5E-08 P_SLOPE_DT=-0.0 
+ P_SD_D=2.5714285714285715E-08 P_TH_SD_UP=2.1 P_TH_SD_DW=0.9 P_C_TPD=6.2374E-08 P_TH_TPD=0.5145856856 P_C_PW_MIN=2.78E-08 
+ P_TH_HIN_OFF=0.9 P_TH_LIN_OFF=0.9 P_TH_HIN_ON=2.1 P_TH_LIN_ON=2.1 P_R_HIN_CL=94285.71428571429 P_R_LIN_CL=94285.71428571429 
+ P_C_GATE=1.2E-11 P_RBOND_NMOS=0.01 P_RBOND_PMOS=0.01 P_LO_VGS_NMOS=3 P_LO_VGS_PMOS=3 P_LPMOS_LAMDA=0.5 P_LPMOS_KP=2E-05 
+ P_LNMOS_LAMDA=0.394 P_LNMOS_KP=4.9E-05 P_HO_VGS_NMOS=3 P_HO_VGS_PMOS=3 P_HPMOS_LAMDA=0.5 P_HPMOS_KP=2E-05 P_HNMOS_LAMDA=0.394 
+ P_HNMOS_KP=4.9E-05 P_VCC_UVH=9.1 P_VCC_UVL=8.3 P_VB_UVL=8.3 P_VB_UVH=9.1 P_R_UV_D_H=2571428 P_R_UV_D_L=2571428 P_VCC_MIN=10 
+ P_IQ_VCC=0.00028 P_VB_MIN=10 P_IQ_VB=0.00017 P_V_LEAK=600 P_I_LEAK=1E-06 P_R_BSD=52 P_N_BSD=1.2294559113268089 P_IS_BSD=1E-17
R_LIN_CLAMP LIN COM {P_R_LIN_CL}
R_HIN_CLAMP HIN COM {P_R_HIN_CL}
R_SD_CLAMP SD COM {P_R_LIN_CL}
X_HIN_VCC_D HIN VCC TWO_EDL05N06PF_ESD_DIO PARAMS: P_V_BV=1 P_I_BV=1M
X_COM_HIN_D COM HIN TWO_EDL05N06PF_ESD_DIO PARAMS: P_V_BV=1 P_I_BV=1M
X_LIN_VCC_D LIN VCC TWO_EDL05N06PF_ESD_DIO PARAMS: P_V_BV=1 P_I_BV=1M
X_COM_LIN_D COM LIN TWO_EDL05N06PF_ESD_DIO PARAMS: P_V_BV=1 P_I_BV=1M
X_SD_VCC_D SD VCC TWO_EDL05N06PF_ESD_DIO PARAMS: P_V_BV=1 P_I_BV=1M
X_COM_SD_D COM SD TWO_EDL05N06PF_ESD_DIO PARAMS: P_V_BV=1 P_I_BV=1M
X_CL_HIN HIN COM TWO_EDL05N06PF_CL_DIO PARAMS: P_V_BV=5.25 P_I_BV=0.1M
X_CL_LIN LIN COM TWO_EDL05N06PF_CL_DIO PARAMS: P_V_BV=5.25 P_I_BV=0.1M
X_CL_VCC VCC COM TWO_EDL05N06PF_CL_DIO PARAMS: P_V_BV=20 P_I_BV=1
X_CL_VB VB VS TWO_EDL05N06PF_CL_DIO PARAMS: P_V_BV=20 P_I_BV=1
D_BS_DIODE VCC VB TWO_EDL05N06PF_BS_DIO
.MODEL TWO_EDL05N06PF_BS_DIO D(IS={P_IS_BSD}, RS={P_R_BSD}, N={P_N_BSD} )
X_INPUT_STAGE LIN_DD HIN_DD SD_DD LIN HIN SD COM TWO_EDL05N06PF_INPUT_STAGE PARAMS: P_SD_D={P_SD_D} P_TH_SD_UP={P_TH_SD_UP} P_TH_SD_DW=
+ {P_TH_SD_DW} P_C_TPD={P_C_TPD} P_TH_TPD={P_TH_TPD} P_C_PW_MIN={P_C_PW_MIN} P_TH_HIN_OFF={P_TH_HIN_OFF} P_TH_LIN_OFF={P_TH_LIN_OFF} 
+ P_TH_HIN_ON={P_TH_HIN_ON} P_TH_LIN_ON={P_TH_LIN_ON}
X_DEADTIME LIN_DT_DIG HIN_DT_DIG LIN_DD HIN_DD DT VCC COM VCC_UV TWO_EDL05N06PF_DEADTIME PARAMS: P_SLOPE_DT={P_SLOPE_DT} P_OFFSET_DT=
+ {P_OFFSET_DT} HB_EN={HB_EN} SHT_EN = {SHT_EN}
X_HO_STAGE HO HIN_DT_DIG VCC_UV VB_UV SD_DD VB VS TWO_EDL05N06PF_HO_STAGE PARAMS: P_RBOND_PMOS={P_RBOND_PMOS} P_RBOND_NMOS=
+ {P_RBOND_NMOS} P_C_GATE={P_C_GATE} P_HO_VGS_PMOS={P_HO_VGS_PMOS} P_HPMOS_LAMDA={P_HPMOS_LAMDA} P_HPMOS_KP={P_HPMOS_KP} 
+ P_HO_VGS_NMOS={P_HO_VGS_NMOS} P_HNMOS_LAMDA={P_HNMOS_LAMDA} P_HNMOS_KP={P_HNMOS_KP}
X_LO_STAGE LO LIN_DT_DIG VCC_UV SD_DD VCC COM TWO_EDL05N06PF_LO_STAGE PARAMS: P_RBOND_PMOS={P_RBOND_PMOS} P_RBOND_NMOS={P_RBOND_NMOS} 
+ P_C_GATE={P_C_GATE} P_LO_VGS_PMOS={P_LO_VGS_PMOS} P_LPMOS_LAMDA={P_LPMOS_LAMDA} P_LPMOS_KP={P_LPMOS_KP} P_LO_VGS_NMOS=
+ {P_LO_VGS_NMOS} P_LNMOS_LAMDA={P_LNMOS_LAMDA} P_LNMOS_KP={P_LNMOS_KP}
X_UV_DETECT VCC_UV VB_UV VCC VB COM VS TWO_EDL05N06PF_UV_DETECT PARAMS: P_VB_UVL={P_VB_UVL} P_VB_UVH={P_VB_UVH} P_R_UV_D_H=
+ {P_R_UV_D_H} P_VCC_UVL={P_VCC_UVL} P_VCC_UVH={P_VCC_UVH} P_R_UV_D_L={P_R_UV_D_L}
X_CC_EMULATOR VCC COM VB VS TWO_EDL05N06PF_CC_EMULATOR PARAMS: P_VB_MIN={P_VB_MIN} P_VCC_MIN={P_VCC_MIN} P_IQ_VB={P_IQ_VB} P_IQ_VCC=
+ {P_IQ_VCC} P_I_LEAK={P_I_LEAK} P_V_LEAK={P_V_LEAK}
.ENDS TWO_EDL05N06PF_GD_TEMPLATE
.SUBCKT TWO_EDL05N06PF_INPUT_STAGE LIN_DD HIN_DD SD_DD LIN HIN SD COM PARAMS: P_SD_D=5E-08 P_TH_SD_UP=2.1 P_TH_SD_DW=1.1 P_C_TPD=
+ 1.9E-07 P_TH_TPD=10E-9 P_TH_HIN_OFF=0.9 P_TH_LIN_OFF=0.9 P_TH_HIN_ON=2.1 P_TH_LIN_ON=2.1 P_C_PW_MIN=42E-9
X_SD_TH SD SD_DIG COM TWO_EDL05N06PF_STP_IDEAL PARAMS: P_TH_UP={P_TH_SD_UP} P_TH_DW={P_TH_SD_DW}
X_SD_DD SD_DIG SD_DD TWO_EDL05N06PF_RC_DELAY_10 PARAMS: P_C_DELAY = {P_SD_D}
X_HIN_TH HIN HIN_DIG COM TWO_EDL05N06PF_STP_IDEAL PARAMS: P_TH_UP={P_TH_HIN_ON} P_TH_DW={P_TH_HIN_OFF}
X_HIN_LPF HIN_DIG HIN_LPF_DIG TWO_EDL05N06PF_ADV_FILTER PARAMS: P_C_DELAY = 1.45E-08
X_HIN_DD HIN_LPF_DIG HIN_DD TWO_EDL05N06PF_RC_DELAY_10 PARAMS: P_C_DELAY = 5.8652E-08 P_TH_TPD = 0.5069963491
X_LIN_TH LIN LIN_DIG COM TWO_EDL05N06PF_STP_IDEAL PARAMS: P_TH_UP={P_TH_LIN_ON} P_TH_DW={P_TH_LIN_OFF}
X_LIN_LPF LIN_DIG LIN_LPF_DIG TWO_EDL05N06PF_ADV_FILTER PARAMS: P_C_DELAY = 2.17E-08
X_LIN_DD LIN_LPF_DIG LIN_DD TWO_EDL05N06PF_RC_DELAY_10 PARAMS: P_C_DELAY = 4.4222E-08 P_TH_TPD = 0.5092815206
.ENDS TWO_EDL05N06PF_INPUT_STAGE
.SUBCKT TWO_EDL05N06PF_DEADTIME LIN_DT_DIG HIN_DT_DIG LIN HIN DT VCC COM VCC_UV PARAMS: HB_EN=1 SHT_EN=0.0 P_SLOPE_DT=2.43236451E-05 
+ P_OFFSET_DT=5.4E-07 P_I_DT=1E-06 P_C_DT=10P P_TH_UP=0.5
X_LIN_DT LIN LIN_DD TWO_EDL05N06PF_RC_DELAY_10 PARAMS: P_C_DELAY = 0.3N
X_HIN_DT HIN HIN_DD TWO_EDL05N06PF_RC_DELAY_10 PARAMS: P_C_DELAY = 0.1N
E_VCC_1V VCC_1V 0 VALUE={TABLE( V(VCC,COM) , 0,0 , 3,0 , 6,1 )}
G_DT VCC DT VALUE={TABLE( V(VCC,DT) , 0,0 , 10M,{P_I_DT} )}
E_HDT_PLS HIN_DT_PLS 0 VALUE={IF( ((V(HIN_DD) - V(LIN_DD)) > 0.1) | (V(HIN_DT_DIG) > 0.5) | ({HB_EN} < 0.5), 1.0 , 0.0 )}
E_HIN_DT HIN_DT_DIG 0 VALUE={IF( ( ((V(HIN_DT_PLS) > 0.5) & (V(LOFF) > {P_TH_UP})) | {HB_EN} < 0.5 ) & (V(HIN_DD) > 0.5 ) & V(
+ VCC_UV) > 0.5 , 1.0 , 0.0 )}
E_LDT_PLS LIN_DT_PLS 0 VALUE={IF( ((V(LIN_DD) - V(HIN_DD)) > 0.1) | (V(LIN_DT_DIG) > 0.5) | ({HB_EN} < 0.5) , 1.0 , 0.0 )}
E_LIN_DT LIN_DT_DIG 0 VALUE={IF( ( ((V(LIN_DT_PLS) > 0.5) & (V(HOFF) > {P_TH_UP})) | {HB_EN} < 0.5 ) & (V(LIN_DD) > 0.5 ) , 1.0 , 
+ 0.0 )}
E_SHT_H SHT_H 0 VALUE={IF( {SHT_EN} > 0.5 , V(HIN_DD) , V(HIN_DT_DIG) )}
E_SHT_L SHT_L 0 VALUE={IF( {SHT_EN} > 0.5 , V(LIN_DD) , V(LIN_DT_DIG) )}
G_H_DT VCC_1V HOFF VALUE={TABLE( V(VCC_1V,HOFF) , 0,0 , 10M, I_DT( V(DT,COM) ) )}
C_H_DT HOFF 0 {P_C_DT}
R_H_DT HOFF 0 1E8
S_H_DT HOFF 0 SHT_H 0 TWO_EDL05N06PF_DT_SW
G_L_DT VCC_1V LOFF VALUE={TABLE( V(VCC_1V,LOFF) , 0,0 , 10M, I_DT( V(DT,COM) ) )}
C_L_DT LOFF 0 {P_C_DT}
R_L_DT LOFF 0 1E8
S_L_DT LOFF 0 SHT_L 0 TWO_EDL05N06PF_DT_SW
.FUNC I_DT(V_DT) {{P_C_DT} * {P_TH_UP} / ({P_SLOPE_DT}/{P_I_DT}*V_DT + {P_OFFSET_DT})}
.MODEL TWO_EDL05N06PF_DT_SW VSWITCH RON=1 ROFF=100MEG VON=0.8 VOFF=0.2
.ENDS TWO_EDL05N06PF_DEADTIME
.SUBCKT TWO_EDL05N06PF_HO_STAGE HO HIN_DT_DIG VCC_UV VB_UV SD_DD VB VS PARAMS: P_RBOND_NMOS=10M P_RBOND_PMOS=10M P_C_GATE=1E-12 
+ P_HO_VGS_PMOS=6 P_HPMOS_LAMDA=0.06 P_HPMOS_KP=60U P_HO_VGS_NMOS=6 P_HNMOS_LAMDA=0.05 P_HNMOS_KP=100U
R_HIN_DT_DD HIN_DT_DIG HIN_DT_DD 100
C_HIN_DT_DD HIN_DT_DD 0 1N
E_HIN_PLS HIN_PLS 0 VALUE {IF( (V(HIN_DT_DIG) - V(HIN_DT_DD)) > 0.1 | ((V(HGATE_DIG) > 0.5) & V(HIN_DT_DIG)>0.5), 1.0,0.0 )}
E_HGATE_DIG HGATE_DIG 0 VALUE {IF( ( V(VB_UV) > 0.5 & V(HIN_PLS) > 0.5 & V(SD_DD) > 0.5 ) , 1.0,0.0 )}
R_HGATE HGATE_DIG HGATE 1
C_HGATE HGATE 0 {P_C_GATE}
E_HGATE_P VB HGATE_P VALUE {V(HGATE) * {P_HO_VGS_PMOS} * V(HGATE_DIG)}
E_HGATE_N HGATE_N VS VALUE {(1 - V(HGATE)) * {P_HO_VGS_NMOS} * (1 - V(HGATE_DIG))}
M_HO_PMOS HO HGATE_P VB VB TWO_EDL05N06PF_HO_PMOS
M_HO_NMOS HO HGATE_N VS VS TWO_EDL05N06PF_HO_NMOS
.MODEL TWO_EDL05N06PF_HO_PMOS PMOS (LEVEL=1 VTO=-1 CGSO=100P W=1M L=1U RB=1 RG=10 RS=10M RD={P_RBOND_PMOS} LAMBDA={P_HPMOS_LAMDA} KP=
+ {P_HPMOS_KP} )
.MODEL TWO_EDL05N06PF_HO_NMOS NMOS (LEVEL=1 VTO=1 CGSO=100P W=1M L=1U RB=1 RG=10 RS=10M RD={P_RBOND_NMOS} LAMBDA={P_HNMOS_LAMDA} KP=
+ {P_HNMOS_KP} )
.ENDS TWO_EDL05N06PF_HO_STAGE
.SUBCKT TWO_EDL05N06PF_LO_STAGE LO LIN_DT_DIG VCC_UV SD_DD VCC COM PARAMS: P_RBOND_NMOS=10M P_RBOND_PMOS=10M P_C_GATE=1E-12 
+ P_LO_VGS_PMOS=6 P_LPMOS_LAMDA=0.06 P_LPMOS_KP=60U P_LO_VGS_NMOS=6 P_LNMOS_LAMDA=0.05 P_LNMOS_KP=100U
E_LGATE_DIG LGATE_DIG 0 VALUE {IF( (V(VCC_UV) > 0.5 & V(LIN_DT_DIG) > 0.5 & V(SD_DD) > 0.5 ), 1.0,0.0 )}
R_LGATE LGATE_DIG LGATE 1
C_LGATE LGATE 0 {P_C_GATE}
E_LGATE_P VCC LGATE_P VALUE {V(LGATE) * {P_LO_VGS_PMOS} * V(LGATE_DIG)}
E_LGATE_N LGATE_N COM VALUE {(1 - V(LGATE)) * {P_LO_VGS_NMOS} * (1 - V(LGATE_DIG))}
M_LO_PMOS LO LGATE_P VCC VCC TWO_EDL05N06PF_LO_PMOS
M_LO_NMOS LO LGATE_N COM COM TWO_EDL05N06PF_LO_NMOS
.MODEL TWO_EDL05N06PF_LO_PMOS PMOS (LEVEL=1 VTO=-1 CGSO=100P W=1M L=1U RB=1 RG=10 RS=10M RD={P_RBOND_PMOS} LAMBDA={P_LPMOS_LAMDA} KP=
+ {P_LPMOS_KP} )
.MODEL TWO_EDL05N06PF_LO_NMOS NMOS (LEVEL=1 VTO=1 CGSO=100P W=1M L=1U RB=1 RG=10 RS=10M RD={P_RBOND_NMOS} LAMBDA={P_LNMOS_LAMDA} KP=
+ {P_LNMOS_KP} )
.ENDS TWO_EDL05N06PF_LO_STAGE
.SUBCKT TWO_EDL05N06PF_UV_DETECT VCC_UV VB_UV VCC VB COM VS PARAMS: P_VB_UVL=7 P_VB_UVH=8 P_R_UV_D_H=142857 P_VCC_UVL=8 P_VCC_UVH=9 
+ P_R_UV_D_L=71428
X_VB_UV VB VB_UV_DIG VS TWO_EDL05N06PF_STP_IDEAL PARAMS: P_TH_UP={P_VB_UVH} P_TH_DW={P_VB_UVL}
E_VB_UVL VB_UVL 0 VALUE {IF( V(VB,VS) < {P_VB_UVL} , 0.0 , 1.0 )}
R_VB_UVL VB_UVL VB_UVL_LPF {P_R_UV_D_H}
C_VB_UVL VB_UVL_LPF 0 1P
E_VB_UVL_PLS VB_UVL_PLS 0 VALUE {IF( V(VB_UVL_LPF) < 0.5 | V(VB_UV) < 0.5 , 0.0 , 1.0 )}
E_VB_UV VB_UV 0 VALUE {IF( V(VB_UV_DIG) < 0.5 & V(VB_UVL_PLS) < 0.5 , 0.0 , 1.0 )}
X_VCC_UV VCC VCC_UV_DIG COM TWO_EDL05N06PF_STP_IDEAL PARAMS: P_TH_UP={P_VCC_UVH} P_TH_DW={P_VCC_UVL}
E_VCC_UVL VCC_UVL 0 VALUE {IF( V(VCC,COM) < {P_VCC_UVL} , 0.0 , 1.0 )}
R_VCC_UVL VCC_UVL VCC_UVL_LPF {P_R_UV_D_L}
C_VCC_UVL VCC_UVL_LPF 0 1P
E_VCC_UVL_PLS VCC_UVL_PLS 0 VALUE {IF( V(VCC_UVL_LPF) < 0.5 | V(VCC_UV) < 0.5 , 0.0 , 1.0 )}
E_VCC_UV VCC_UV 0 VALUE {IF( V(VCC_UV_DIG) < 0.5 & V(VCC_UVL_PLS) < 0.5 , 0.0 , 1.0 )}
.ENDS TWO_EDL05N06PF_UV_DETECT
.SUBCKT TWO_EDL05N06PF_CC_EMULATOR VCC COM VB VS PARAMS: P_VB_MIN=10 P_VCC_MIN=10 P_IQ_VB=100U P_IQ_VCC=500U P_I_LEAK=1.0U P_V_LEAK=650
G_QB VB VS VALUE {TABLE(V(VB,VS) , 0,0 , 0.1,1U , 1,100U , 0.8*{P_VB_MIN},{P_IQ_VB})}
R_QB VB VS 1E12
G_QCC VCC COM VALUE {TABLE(V(VCC,COM) , 0,0 , 0.1,1U , 1,100U , 0.8*{P_VCC_MIN},{P_IQ_VCC})}
R_QCC VCC COM 1E12
G_VB_LEAK VS COM VALUE {TABLE(V(VS,COM) , 0,0 , {P_V_LEAK},{P_I_LEAK})}
R_VB_LEAK VS COM 1E12
.ENDS TWO_EDL05N06PF_CC_EMULATOR
.SUBCKT TWO_EDL05N06PF_CL_DIO C A PARAMS: P_V_BV=5 P_I_BV=1
G_CL_DIO C A VALUE {TABLE(V(C,A) , 0,0 , {P_V_BV}*1.01,0 , {P_V_BV}*1.02,{P_I_BV} , 10*{P_V_BV}, 100*{P_I_BV} )}
C_CL_DIO C A 1P
R_CL_DIO C A 1E12
.ENDS TWO_EDL05N06PF_CL_DIO
.SUBCKT TWO_EDL05N06PF_ESD_DIO C A PARAMS: P_V_BV=5 P_I_BV=1
G_CL_DIO C A VALUE {TABLE(V(C,A) , 0,0 , {P_V_BV}*1.01,0 , {P_V_BV}*1.02,{P_I_BV} , 10*{P_V_BV}, 10*{P_I_BV} )}
C_CL_DIO C A 1P
R_CL_DIO C A 1E12
.ENDS TWO_EDL05N06PF_ESD_DIO
.SUBCKT TWO_EDL05N06PF_RC_DELAY_10 IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
X_D1 IN OUT TWO_EDL05N06PF_RC_DELAY_5 PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
.ENDS TWO_EDL05N06PF_RC_DELAY_10
.SUBCKT TWO_EDL05N06PF_RC_DELAY_5 IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
X_D1 IN D1 TWO_EDL05N06PF_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D2 D1 D2 TWO_EDL05N06PF_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D3 D2 D3 TWO_EDL05N06PF_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D4 D3 D4 TWO_EDL05N06PF_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
X_D5 D4 OUT TWO_EDL05N06PF_RC_DELAY_BASE PARAMS: P_C_DELAY = {P_C_DELAY} P_TH_TPD = {P_TH_TPD}
.ENDS TWO_EDL05N06PF_RC_DELAY_5
.SUBCKT TWO_EDL05N06PF_RC_DELAY_BASE IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
R_DELAY IN IN_DEL 1
C_DELAY IN_DEL 0 {P_C_DELAY}
E_DELAY OUT 0 VALUE={IF( V(IN_DEL) > {P_TH_TPD} , 1.0,0.0 )}
.ENDS TWO_EDL05N06PF_RC_DELAY_BASE
.SUBCKT TWO_EDL05N06PF_ADV_FILTER IN OUT PARAMS: P_C_DELAY = 60E-9 P_TH_TPD = 0.5
R_RISE IN IN_DEL 1
C_RISE IN_DEL 0 {P_C_DELAY}
X_CMP IN_DEL OUT 0 TWO_EDL05N06PF_STP_IDEAL PARAMS: P_TH_UP=0.999 P_TH_DW=0.001
.ENDS TWO_EDL05N06PF_ADV_FILTER
.SUBCKT TWO_EDL05N06PF_STP_IDEAL IN OUT GND PARAMS: P_TH_UP=0.9 P_TH_DW=0.1
E_OUTP OUTP 0 VALUE={IF( V(IN,GND)>={P_TH_UP} | V(OUTN)<0.5 , 1,0 )}
E_OUTN OUTN 0 VALUE={IF( V(IN,GND)<={P_TH_DW} | V(OUTP)<0.5 , 1,0 )}
E_OUT OUT 0 VALUE={V(OUTP)}
.ENDS TWO_EDL05N06PF_STP_IDEAL
.SUBCKT TWO_EDL05N06PF_STP_IDEAL1 IN OUT GND UP DW PARAMS: P_TH_UP=0.9 P_TH_DW=0.1
E_OUTP OUTP 0 VALUE={IF( V(IN,GND)>=V(UP) | V(OUTN)<0.5 , 1,0 )}
E_OUTN OUTN 0 VALUE={IF( V(IN,GND)<=V(DW) | V(OUTP)<0.5 , 1,0 )}
E_OUT OUT 0 VALUE={V(OUTP)}
.ENDS TWO_EDL05N06PF_STP_IDEAL1
.SUBCKT TWO_EDL05N06PF_STN_IDEAL IN OUT GND PARAMS: P_TH_UP=0.9 P_TH_DW=0.1
E_OUTP OUTP 0 VALUE={IF( V(IN,GND)>={P_TH_UP} | V(OUTN)<0.5 , 1,0 )}
E_OUTN OUTN 0 VALUE={IF( V(IN,GND)<={P_TH_DW} | V(OUTP)<0.5 , 1,0 )}
E_OUT OUT 0 VALUE={V(OUTN)}
.ENDS TWO_EDL05N06PF_STN_IDEAL
.SUBCKT TWO_EDL05N06PF_STN_IDEAL1 IN OUT GND UP DW PARAMS: P_TH_UP=0.9 P_TH_DW=0.1
E_OUTP OUTP 0 VALUE={IF( V(IN,GND)>=V(UP) | V(OUTN)<0.5 , 1,0 )}
E_OUTN OUTN 0 VALUE={IF( V(IN,GND)<=V(DW) | V(OUTP)<0.5 , 1,0 )}
E_OUT OUT 0 VALUE={V(OUTN)}
.ENDS TWO_EDL05N06PF_STN_IDEAL1

** Include of: C:/Users\peter\AppData\Roaming\Infineon\InfineonSpice\Libraries\MOSFET Automotive 40V N-Channel OptiMOS 6\OptiMOS_6_40V_PSpice.lib
* ------------------------------------------------------------------------------
* 
* DISCLAIMER
* 
* INFINEON'S MODEL TERMS OF USE
* 
* BY DOWNLOADING AND/OR USING THIS INFINEON MODEL ("MODEL"), THE USER
* (INCLUDING YOU) AGREES TO BE BOUND BY THE TERMS OF USE HERE STATED. IF USER
* DOES NOT AGREE TO ALL TERMS OF USE HERE STATED, USER SHALL NOT DOWNLOAD,
* USE OR COPY THE MODEL BUT IMMEDIATELY DELETE IT (TO THE EXTENT THAT IT
* WAS DOWNLOADED ALREADY).
* 
* 1. SCOPE OF USE
* 1.1 Any use of this Model provided by Infineon Technologies AG is subject
*     to these Terms of Use.
* 1.2 This Model, provided by Infineon, does not fully represent all of the
*     specifications and operating characteristics of the product to which
*     this Model relates.
* 1.3 This Model only describes the characteristics of a typical product.
*     In all cases, the current data sheet information for a given product
*     is the final design guideline and the only actual performance
*     specification. Although this Model can be a useful tool to evaluate
*     the product performance, it cannot simulate the exact product performance
*     under all conditions and it is also not intended to replace
*     bread-boarding for final verification.
* 
* 2. IMPORTANT NOTICE
* 2.1 Infineon Technologies AG ("Infineon") is not and cannot be aware of the
*     specific application of the Infineon's Model by User. However, Model may
*     from time to time be used by User in potentially harmful and/or life-
*     endangering applications such as traffic, logistic, medical, nuclear
*     or military applications or in other applications where failure of the
*     Model may predictably cause damage to persons' life or health or to
*     property (hereinafter "Critical Applications").
* 2.2 User acknowledges that Infineon has not specifically designed or
*     qualified the Model for Critical Applications that the Model may contain
*     errors and bugs and that User is required to qualify the Model for
*     Critical Applications pursuant to the applicable local quality, safety
*     and legal requirements before permitting or giving access to any such use.
* 
* 3. CONFIDENTIAL INFORMATION
*     User shall treat ideas, concepts and information incorporated in the
*     Model, the documentation and the content of this Terms of Use (together
*     hereinafter "Confidential Information") confidential, not disclose it to
*     any third party unless otherwise agreed in writing between User and
*     Infineon, not use it for any other purposes than using the Model for
*     simulation and testing purposes only.
* 
* 4. WARRANTY
* 4.1 User acknowledges that the Model is provided by Infineon under this Terms
*     of Use is provided free of charge and "AS IS" without any warranty or
*     liability of any kind and Infineon hereby expressly disclaims any
*     warranties or representations, whether express, implied, statutory or
*     otherwise, including but not limited to warranties of workmanship,
*     merchantability, fitness for a particular purpose, defects in the
*     Model, or non-infringement of third parties intellectual property rights.
* 4.2 Infineon reserves the right to make corrections, deletions, modifications,
*     enhancements, improvements and other changes to the Model at any time
*     or to move or discontinue any Model without notice.
* 
* 5. LIABILITY
* 5.1 Nothing in this Terms of Use shall limit or exclude Infineon's liability
*     under mandatory liability laws, for injuries to life, body or health,
*     for fraudulent concealment of defects in the software, or in cases
*     of Infineon's intentional misconduct or gross negligence.
* 5.2 Without prejudice to Sections 5.1, in cases of Infineon's slight
*     negligent breach of obligations that restrict essential rights or duties
*     arising from the nature of this Terms of Use in a way that there is a
*     risk of non-achievement of the purpose of this Terms of Use or of an
*     obligation whose observance User regularly may trust in and whereas
*     compliance with only makes proper execution of this Terms of Use
*     possible, Infineon's liability shall be limited to the typically,
*     foreseeable damage.
* 5.3 Without prejudice to Sections 8.1 and 8.2, Infineon's liability under
*     this Agreement shall be excluded in all other cases.
* 
* 6. EXPORT REGULATIONS
*     The User shall comply with all applicable national and international
*     laws and regulations, in particular the applicable export control
*     regulations and sanction programs. The User also agrees not to
*     export, re-export or transfer any software or technology developed
*     with or using information, software or technology offered by Infineon,
*     in violation of any applicable laws or regulations of the competent
*     authorities. Further, the User shall neither use any products,
*     information, software and technology offered by Infineon in or in
*     connection with nuclear technology or weapons of mass destruction
*     (nuclear, biological or chemical) and carriers thereof nor supply
*     military consignees.
* 
* 7. TERMINATION OF USE PERMIT
*     If the User violates these Terms of Use, such User's permit to use
*     this Model terminates automatically. In addition, Infineon may
*     terminate the User's permit to use this Model at its discretion and
*     at any time regardless of any violation of these Terms of Use. In
*     any of the foregoing events, the User is obliged to immediately destroy
*     any content that has been downloaded or printed from Infineon's website.
* 
* 8. MISCELLANEOUS
* 8.1 These Terms of Use are subject to the laws of the Federal Republic
*     of Germany with the exception of the United Nations on Purchase
*     Contracts on the International Sale of Goods dated April 11, 1980 (CISG).
*     The exclusive place of jurisdiction is Munich, Germany.
* 8.2 Should any provision in these Terms of Use be or become invalid, the
*     validity of all other provisions or agreements shall remain unaffected
*     thereby.
* 
* ------------------------------------------------------------------------------
* 
* Title:    INFINEON Power Transistors Simulation Models for PSpice
* Description: n-channel Transistors
*                 OptiMOS6 40V
* Authors:  Dr. Elmar Gondro, Tel: +49/89/234-29391
*           Sebastian Koch,   Tel: +49/89/234-89858
* Email:    Elmar.Gondro@Infineon.com
*           Sebastian.Koch@Infineon.com
* Support:  Support@Infineon.com
*           www.Infineon.com/support
*
* ------------------------------------------------------------------------------
* 
* This library contains models of the following INFINEON transistors: 
* 
* Product            DeviceType  Level  VDSmax/V  RDSonmax/mOhm  IDmax/A   Package               L3-ModelName       L1-ModelName          L0-ModelName 
* ------------------------------------------------------------------------------------------------------------------------------------------------------------
* IAUC100N04S6L014   OptiMOS       LL       40        1.4          100     TDSON-8.(SSO8)        IAUC100N04S6L014   IAUC100N04S6L014_L1   IAUC100N04S6L014_L0 
* IAUC100N04S6L020   OptiMOS       LL       40        2.04         100     TDSON-8.(SSO8)        IAUC100N04S6L020   IAUC100N04S6L020_L1   IAUC100N04S6L020_L0 
* IAUC100N04S6L025   OptiMOS       LL       40        2.56         100     TDSON-8.(SSO8)        IAUC100N04S6L025   IAUC100N04S6L025_L1   IAUC100N04S6L025_L0 
* IAUC120N04S6L005   OptiMOS       LL       40        0.55         120     TDSON-8.(SSO8)        IAUC120N04S6L005   IAUC120N04S6L005_L1   IAUC120N04S6L005_L0 
* IAUC120N04S6L008   OptiMOS       LL       40        0.8          120     TDSON-8.(SSO8)        IAUC120N04S6L008   IAUC120N04S6L008_L1   IAUC120N04S6L008_L0 
* IAUC120N04S6L009   OptiMOS       LL       40        0.96         120     TDSON-8.(SSO8)        IAUC120N04S6L009   IAUC120N04S6L009_L1   IAUC120N04S6L009_L0 
* IAUC120N04S6L012   OptiMOS       LL       40        1.21         120     TDSON-8.(SSO8)        IAUC120N04S6L012   IAUC120N04S6L012_L1   IAUC120N04S6L012_L0 
* IAUC60N04S6L039    OptiMOS       LL       40        4.02          60     TDSON-8.(SSO8)        IAUC60N04S6L039    IAUC60N04S6L039_L1    IAUC60N04S6L039_L0  
* IAUC45N04S6L063H   Half-Bridge   LL       40        6.3           45     TDSON-8.(dual-SSO8)   IAUC45N04S6L063H   IAUC45N04S6L063H_L1   IAUC45N04S6L063H_L0 
* IAUC60N04S6L030H   Half-Bridge   LL       40        3.0           60     TDSON-8.(dual-SSO8)   IAUC60N04S6L030H   IAUC60N04S6L030H_L1   IAUC60N04S6L030H_L0 
* IAUC60N04S6L045H   Half-Bridge   LL       40        4.5           60     TDSON-8.(dual-SSO8)   IAUC60N04S6L045H   IAUC60N04S6L045H_L1   IAUC60N04S6L045H_L0 
* IAUC80N04S6L032    OptiMOS       LL       40        3.29          80     TDSON-8.(SSO8)        IAUC80N04S6L032    IAUC80N04S6L032_L1    IAUC80N04S6L032_L0  
* IAUA250N04S6N005   OptiMOS       NL       40        0.55         250     HSOF-5.(sTOLL)        IAUA250N04S6N005   IAUA250N04S6N005_L1   IAUA250N04S6N005_L0 
* IAUA250N04S6N007E  OptiMOS       NL       40        0.7          250     HSOF-5.(sTOLL)        IAUA250N04S6N007E  IAUA250N04S6N007E_L1  IAUA250N04S6N007E_L0
* IAUA250N04S6N008   OptiMOS       NL       40        0.8          250     HSOF-5.(sTOLL)        IAUA250N04S6N008   IAUA250N04S6N008_L1   IAUA250N04S6N008_L0 
* IAUCN04S6N007T     OptiMOS       NL       40        0.75         120     LHDSO-10.(SSO10T)     IAUCN04S6N007T     IAUCN04S6N007T_L1     IAUCN04S6N007T_L0   
* IAUCN04S6N009T     OptiMOS       NL       40        0.89         120     LHDSO-10.(SSO10T)     IAUCN04S6N009T     IAUCN04S6N009T_L1     IAUCN04S6N009T_L0   
* IAUCN04S6N013T     OptiMOS       NL       40        1.32         120     LHDSO-10.(SSO10T)     IAUCN04S6N013T     IAUCN04S6N013T_L1     IAUCN04S6N013T_L0   
* IAUCN04S6N017T     OptiMOS       NL       40        1.73         120     LHDSO-10.(SSO10T)     IAUCN04S6N017T     IAUCN04S6N017T_L1     IAUCN04S6N017T_L0   
* IAUC100N04S6N015   OptiMOS       NL       40        1.55         100     TDSON-8.(SSO8)        IAUC100N04S6N015   IAUC100N04S6N015_L1   IAUC100N04S6N015_L0 
* IAUC100N04S6N022   OptiMOS       NL       40        2.26         100     TDSON-8.(SSO8)        IAUC100N04S6N022   IAUC100N04S6N022_L1   IAUC100N04S6N022_L0 
* IAUC100N04S6N028   OptiMOS       NL       40        2.86         100     TDSON-8.(SSO8)        IAUC100N04S6N028   IAUC100N04S6N028_L1   IAUC100N04S6N028_L0 
* IAUC120N04S6N006   OptiMOS       NL       40        0.6          120     TDSON-8.(SSO8)        IAUC120N04S6N006   IAUC120N04S6N006_L1   IAUC120N04S6N006_L0 
* IAUC120N04S6N008   OptiMOS       NL       40        0.8          120     TDSON-8.(SSO8)        IAUC120N04S6N008   IAUC120N04S6N008_L1   IAUC120N04S6N008_L0 
* IAUC120N04S6N009   OptiMOS       NL       40        0.9          120     TDSON-8.(SSO8)        IAUC120N04S6N009   IAUC120N04S6N009_L1   IAUC120N04S6N009_L0 
* IAUC120N04S6N010   OptiMOS       NL       40        1.03         120     TDSON-8.(SSO8)        IAUC120N04S6N010   IAUC120N04S6N010_L1   IAUC120N04S6N010_L0 
* IAUC120N04S6N013   OptiMOS       NL       40        1.34         120     TDSON-8.(SSO8)        IAUC120N04S6N013   IAUC120N04S6N013_L1   IAUC120N04S6N013_L0 
* IAUC45N04S6N070H   Half-Bridge   NL       40        7.0           45     TDSON-8.(dual-SSO8)   IAUC45N04S6N070H   IAUC45N04S6N070H_L1   IAUC45N04S6N070H_L0 
* IAUC60N04S6N031H   Half-Bridge   NL       40        3.1           60     TDSON-8.(dual-SSO8)   IAUC60N04S6N031H   IAUC60N04S6N031H_L1   IAUC60N04S6N031H_L0 
* IAUC60N04S6N044    OptiMOS       NL       40        4.52          60     TDSON-8.(SSO8)        IAUC60N04S6N044    IAUC60N04S6N044_L1    IAUC60N04S6N044_L0  
* IAUC60N04S6N050H   Half-Bridge   NL       40        5.0           60     TDSON-8.(dual-SSO8)   IAUC60N04S6N050H   IAUC60N04S6N050H_L1   IAUC60N04S6N050H_L0 
* IAUC80N04S6N036    OptiMOS       NL       40        3.68          80     TDSON-8.(SSO8)        IAUC80N04S6N036    IAUC80N04S6N036_L1    IAUC80N04S6N036_L0  
* 
* ------------------------------------------------------------------------------
* 
* Thermal nodes of level 3 models: 
* 
*  Tj:    Potential (temperature in °C) at junction (typically not connected) 
*  Tcase: Node where boundary condition (external heat sinks) must be connected.
*         Ideal heat sink can be modeled by using a voltage source stating the 
*         ambient temperature in °C between Tcase and ground. 
* 
* ------------------------------------------------------------------------------
* 
* This file also contains simplified models that are compatible to standard 
* Spice (Level 0) 
* 
* ------------------------------------------------------------------------------
* 
* History: 
* DD/MM/YY 
* 13/07/18 initial version based on "OptiMOS5_40V.lib"    (Gondro, Moyses, Koch)
*          models added: 
*            IAUC120N04S6L008 and IAUC120N04S6N009
* 20/08/18 auxiliary resistors added parallel to inductors in L1 and L0 (Gondro)
* 22/08/18 lambda set to 1m in L0                                       (Gondro)
*          W=L=10u in sw (L0), as default SPICE2 is 1m
*          introduced LAMBDA, CGDO, CGSO, CGBO for better convergence
* 24/08/18 IS set to 0 in mos1/3 (avoiding drain-bulk forward direction)
* 28/08/18 removed Rpar[2] in level0 avoiding negative drain current
*          increased Rd06 to 1u
* 25/01/19 fixed bug in .FUNC Pb(I,dT,Rb)                               (Gondro)
* 14/02/19 updated Rdson and Vbd                                        (Gondro)
*            Ron*A [mOhm*mm2]
*              57um     typ    
*              LL       4.6    
*              NL       5.2    
*            Vbd=43V
*          par techvar introduced (0: 40V (Standard), 1: 45V (LinFET, Nova))
*            Ron*A +3%
*            Vbd +3V
* 18/02/19 MonteCarlo introduced                                        (Gondro)
*          corners updated: 
*            dVth   = 0.4 -> 0.3 (LL)   0.5 -> 0.4 (NL)
*            dRdson =     -> 25%
*            dC     = 33% -> 30%
*          dR renamed to dRdson
*          minor change in A6_40_e1_var model dbody CJO
* 21/02/19 symmetric dVthmax introduced replacing Vmin and Vmax         (Gondro)
*          f2r parameter activated for perimeter dependance of Cds
* 27/02/19 new models for                                 (Gondro, Moyses, Koch)
*            NL
*             IAUC120N04S6N010   IAUC120N04S6N013   IAUC100N04S6N015   
*             IAUC100N04S6N022   IAUC100N04S6N028   IAUC80N04S6N036    
*             IAUC60N04S6N044    
*            LL
*             IAUC120N04S6L009   IAUC120N04S6L012   IAUC100N04S6L014   
*             IAUC100N04S6L020   IAUC100N04S6L025   IAUC80N04S6L032    
*             IAUC60N04S6L039    
*          new tech variants for 57um with decreased Rd:
*            A6_40_d_var and A6_40_d1_var
*          default for Rmax set to 0
*          thermal bond wire network removed (G_th, R_thb, C_thb)
*          C_th6 increased to 30m
*          parameter dR consistently renamed to dRdson
*          .MODEL sw: LAMBDA=1m introduced
*          constant kbq=85.8u corrected to 86.2u
*          diode D_body replaced by behavioral G_diode to implement temperature 
*            dependence on external pin Tcase instead of TEMP
*          limit Idiode to 0 to avoid negative currents
* 30/04/19 new models for                                         (Gondro, Koch)
*            NL
*             IAUA250N04S6N006   IAUA250N04S6N007    
*             additional Rd for 100um wafer thickness
* 03/06/19 Level 0 brought to sync with level 1                         (Gondro)
* 08/06/19 parameter Rm renamed to Rmet due to clash with 
*            model statement in spt7                                    (Gondro)
* 30/04/19 IAUA250N04S6N007: included min. Rth4 of 10u for netlisting   (Gondro)
* 16/07/19 Update of Vbr and parameter TC_BV for Vbr in L0 introduced   (Gondro)
* 25/10/19 thermal parameters of leadframe updated                (Koch, Gondro)
* 26/10/19 par techvar removed due to technology split                  (Gondro)
* 11/11/19 new models for                                                 (Koch)
*            IAUC120N04S6L005   IAUC120N04S6N006
* 14/11/19 corner par dVbr introduced in technology model               (Gondro)
* 15/11/19 optimized parameters for Cgs, Cgd in A6_40_d1_var              (Koch)
* 15/11/19 contact email changed                                        (Gondro)
*            from Simulate@Infineon.com to Support@Infineon.com
* 25/11/19 dVbrmax=0.7 changed to dVbrmax=4.5*0.7=3.15                  (Gondro)
* 08/01/20 undid previous split of capacitance parameter sets for d/e,    (Koch)
*            optimized parameters for Cgs, Cgd in all variants
* 05/02/20 syntax bug conc. SIMetrix fixed                        (Gondro, Koch)
*            parameter dVbr introduced as instance parameter
* 10/02/20 Six new half-bridge products added:                    (Gondro, Koch)
*            LL
*             IAUC60N04S6L028H   IAUC60N04S6L045H   IAUC45N04S6L063H  
*            NL
*             IAUC60N04S6N031H   IAUC60N04S6N050H   IAUC45N04S6N070H  
* 20/02/20 Reverted old breakdown values for L0 models            (Gondro, Koch)
* 29/07/20 Six half-bridge models added:                                (Gondro)
*            e.g. IAUC60N04S6L028H containing two instances of IAUC60N04S6L028
* 30/07/20 Thermal coupling of half-bridge models (L3) added            (Gondro)
* 16/09/20 Thermal coupling of half-bridge made assymetrical      (Gondro, Koch)
* 21/10/20 Updates to improve Vth slope                           (Gondro, Koch)
* 22/10/20 Updates to L0 parameters                                     (Gondro)
* 08/02/21 Added sTOLL models for:                                        (Koch)
*            IAUA250N04S6N005   IAUA250N04S6N007E  IAUA250N04S6N008
*            (replacing previous IAUA250N04S6N007)
* 12/02/21 Updated Rmax: IAUC60N04S6L028H --> IAUC60N04S6L030H          (Gondro)
* 24/02/21 Updated NL (d1, e1) to improve transfer curves / TCP   (Gondro, Koch)
* 12/05/21 Updated LL (d, e) to improve transfer curves / TCP             (Koch)
* 13/04/22 Added model for IAUC120N04S6N008 based on IAUC120N04S6N009     (Koch)
* 08/09/22 added Compact Model Completion Monitor                       (Gondro)
*          model lib reduced to products with status "active and preferred"
* 15/02/23 Added models for SSO10T products,                              (Koch)
*            Rmax precision updated
* 
* ------------------------------------------------------------------------------
* 
* A6_40_d_var:  AFET6_40 LL 57um
* A6_40_d1_var: AFET6_40 NL 57um
* A6_40_e_var:  AFET6_40 LL 77um
* A6_40_e1_var: AFET6_40 NL 77um, 100um
* 
* ------------------------------------------------------------------------------


********************************************************************************
* Technology Models
********************************************************************************

.SUBCKT A6_40_d_var dd g s0 sp Tj PARAMS: a=1 dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 
+ Inn=1 Unn=1 Rmax=0 gmin=1 Rsp=1 Rs=1 Rp=1 Rmet=1u

* corner parameters
.PARAM  dVthmax=0.3   dCmax=0.3   dVbrmax=3.15

* technology parameters
.PARAM  Fm=0.05    Fn=1        al=0.5
.PARAM  c=0.95     Vth0=2.152  auth=3.0m
.PARAM  UT=15.11m  ab=18.74m   lB=-23       UB=42.5

.PARAM  b0=213.4   nmu3=1.769  p0=5.043    p1=-14.06m   p2=21.76u

.PARAM  Tref=298   T0=273   kbq=86.2u      

* Diode
.PARAM  lnIsj=-25.41
.PARAM  ndi=1.099  nisj=2.463  Rdi=1.152m   nmu2=0.959
.PARAM  td=20n     ta=2n

* Epi Resistance
.PARAM  Rd=3.436m  Rf=0.6      nmu=3.044  

* Cgs
.PARAM  f3=606.2p

* Cgfp
.PARAM  f3a=31.78p

* Cds
.PARAM q81=145.0p
.PARAM qs1=65.62p  qs2=345.4p  qs3=-87.45m
.PARAM qs4=85.58p  qs5=-16.63m
.PARAM x0=308.2m   x1=27.68    dx={x1-x0} 
.PARAM f2r=226.4m

* Cgd
.PARAM  ps0=2.966p ps1=16.86p ps2=-1.938 ps3=85.69p ps4=-162.1m ps5=6.862p ps6=8.007p
.PARAM  f5=34.57p
.PARAM  x2=6.017 x3=25.02      dx2={x3-x2}

.PARAM  Vth={Vth0+dVthmax*dVth}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dRdson,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dRdson==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
* .PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cgs0={f3*a*dC1}
.PARAM  Cgs1={f3a*a*dC1}
.PARAM  dRdi={Rdi/a}

.PARAM  Cox1={(ps1*a+ps0*sqrt(a))*dC1}
.PARAM  Cox2={ps3*a*dC1}
.PARAM  Cox3={(ps5*a+ps6)*dC1}
.PARAM  Cox4={(f5*a+(ps5*a+ps6))*dC1}

.PARAM  Cds0={qs1*a*dC1}
.PARAM  Cds1={qs2*(1+f2r/sqrt(a))*a*dC1}
.PARAM  Cds2={qs4*a*dC1}
.PARAM  Cds3={(q81+qs1)*a*dC1}

* .FUNC  VBR(Usps)    {max(UB+min(Usps,dUmax)*s1+max(Usps-dUmax,0)*s2,Umin)}
.FUNC  VBR(Usps)    {UB+dVbrmax*dVbr}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC J(d,g,T,da,s,Usps) 
+ {a*(s*(Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**nisj)}

.FUNC  Pr(Vss0,Vssp)  {Vss0*Vss0/max(Rmet,1u)+Vssp*Vssp/Rsp}

* .FUNC J1(d,g,T,da,s,Usps) {a*(s*(exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC QCds(x) {Cds3*min(x,x1)+Cds0*max(x-x1,0)+(Cds3-Cds0)*((limit(x,x0,x1)-x0)**3/(dx*dx)*((limit(x,x0,x1)-x0)/(2*dx)-1))}
.FUNC QCdg(x) {Cox4*min(x,x3)+Cox3*max(x-x3,0)+(Cox4-Cox3)*((limit(x,x2,x3)-x2)**3/(dx2*dx2)*((limit(x,x2,x3)-x2)/(2*dx2)-1))}


E_Edg1     d   ox    VALUE {if(V(d,g)>0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/ps2,0)}
C_Cdg1    ox   g     {Cox1}
E_Edg2     d   ox1   VALUE {if(V(d,g)>0,V(d,g)-(exp(ps4*max(V(d,g),0))-1)/ps4,0)}
C_Cdg2   ox1   g     {Cox2}
E_Edg3     d   ox2   VALUE {V(d,g)-QCdg(V(d,g))/Cox4}
C_Cdg3   ox2   g     {Cox4} 

E_Eds      d   edep  VALUE {V(d,s)-QCds(V(d,s))/Cds3}
C_Cds  edep    s    {Cds3/2} 

E_Eds1     d   edep1 VALUE {V(d,sp)-QCds(V(d,sp))/Cds3}
C_Cds1 edep1   sp    {Cds3/2} 
E_Eds2     d   edep2 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/qs5,0)}
C_Cds2 edep2   sp    {Cds2}
E_Eds3     d   edep3 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/qs3,0)}
C_Cds3 edep3   sp    {Cds1}

C_Cgs     g    s      {Cgs0}
C_Cgs1    g    sp     {Cgs1}

R_fp      s    sp     {Rsp}

G_chan   d5a   s  VALUE={J(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d5a,s)))-1)/2/al,sgn(V(d5a,s)),V(sp,s))}
R_d06    d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0
G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

* includes RevRec, but has no Tj dependence...
* D_body s d3 dbody
* .model dbody D ( BV={UB*10} CJO={Cds0/100} TT={ta} IS={a*exp(lnIsj)} m=0.3 RS={dRdi*1m} n={ndi} XTI={nisj} )

R_1        g    s  1G
R_d01      d    s  1G
R_d02     d2    s  1G
R_d03     d1    d  1k
R_ssp     g    sp  100Meg

R_met      s    s0 {Rmet}

G_th      0   Tj  VALUE={(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}

.ENDS
 
**********

.SUBCKT A6_40_d1_var dd g s0 sp Tj PARAMS: a=1 dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 
+ Inn=1 Unn=1 Rmax=0 gmin=1 Rsp=1 Rs=1 Rp=1 Rmet=1u

* corner parameters
.PARAM  dVthmax=0.4   dCmax=0.3   dVbrmax=3.15

* technology parameters
.PARAM  Fm=0.05    Fn=1        al=0.5
.PARAM  c=0.95     Vth0=3.51   auth=3.0m
.PARAM  UT=84.76m  ab=20.15m   lB=-23       UB=41.4

.PARAM  b0=143.8   p0=6.094    p1=-15.32m   p2=26.44u

.PARAM  Rd=3.52m   nmu=3.214   Tref=298     T0=273      lnIsj=-27.1
.PARAM  ndi=1.063  nisj=3.00   Rdi=0.717m   nmu2=1.616
.PARAM  td=20n     ta=2n
.PARAM  Rf=0.6     nmu3=1.1

.PARAM  kbq=86.2u

* Cgs
.PARAM  f3=544.8p

* Cgfp
.PARAM  f3a=31.78p

* Cds
.PARAM q81=31.98p
.PARAM qs1=58.61p  qs2=548.4p  qs3=-85.34m
.PARAM qs4=46.61p  qs5=-8.081m
.PARAM x0=12.88    x1=25.56    dx={x1-x0} 
.PARAM f2r=178.9m

* Cgd
.PARAM  ps0=27.7p ps1=55.67p ps2=-159.6m ps3=6.027p ps4=-1.123m ps5=8.05f ps6=7.499p
.PARAM  f5=27.9p
.PARAM  x2=7.131 x3=25.52      dx2={x3-x2}

.PARAM  Vth={Vth0+dVthmax*dVth}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dRdson,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dRdson==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
* .PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cgs0={f3*a*dC1}
.PARAM  Cgs1={f3a*a*dC1}
.PARAM  dRdi={Rdi/a}

.PARAM  Cox1={(ps1*a+ps0*sqrt(a))*dC1}
.PARAM  Cox2={ps3*a*dC1}
.PARAM  Cox3={(ps5*a+ps6)*dC1}
.PARAM  Cox4={(f5*a+(ps5*a+ps6))*dC1}

.PARAM  Cds0={qs1*a*dC1}
.PARAM  Cds1={qs2*(1+f2r/sqrt(a))*a*dC1}
.PARAM  Cds2={qs4*a*dC1}
.PARAM  Cds3={(q81+qs1)*a*dC1}

* .FUNC  VBR(Usps)    {max(UB+min(Usps,dUmax)*s1+max(Usps-dUmax,0)*s2,Umin)}
.FUNC  VBR(Usps)    {UB+dVbrmax*dVbr}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC J(d,g,T,da,s,Usps) 
+ {a*(s*(Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**nisj)}

.FUNC  Pr(Vss0,Vssp)  {Vss0*Vss0/max(Rmet,1u)+Vssp*Vssp/Rsp}

* .FUNC J1(d,g,T,da,s,Usps) {a*(s*(exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC QCds(x) {Cds3*min(x,x1)+Cds0*max(x-x1,0)+(Cds3-Cds0)*((limit(x,x0,x1)-x0)**3/(dx*dx)*((limit(x,x0,x1)-x0)/(2*dx)-1))}
.FUNC QCdg(x) {Cox4*min(x,x3)+Cox3*max(x-x3,0)+(Cox4-Cox3)*((limit(x,x2,x3)-x2)**3/(dx2*dx2)*((limit(x,x2,x3)-x2)/(2*dx2)-1))}


E_Edg1     d   ox    VALUE {if(V(d,g)>0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/ps2,0)}
C_Cdg1    ox   g     {Cox1}
E_Edg2     d   ox1   VALUE {if(V(d,g)>0,V(d,g)-(exp(ps4*max(V(d,g),0))-1)/ps4,0)}
C_Cdg2   ox1   g     {Cox2}
E_Edg3     d   ox2   VALUE {V(d,g)-QCdg(V(d,g))/Cox4}
C_Cdg3   ox2   g     {Cox4} 

E_Eds      d   edep  VALUE {V(d,s)-QCds(V(d,s))/Cds3}
C_Cds  edep    s    {Cds3/2} 

E_Eds1     d   edep1 VALUE {V(d,sp)-QCds(V(d,sp))/Cds3}
C_Cds1 edep1   sp    {Cds3/2} 
E_Eds2     d   edep2 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/qs5,0)}
C_Cds2 edep2   sp    {Cds2}
E_Eds3     d   edep3 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/qs3,0)}
C_Cds3 edep3   sp    {Cds1}

C_Cgs     g    s      {Cgs0}
C_Cgs1    g    sp     {Cgs1}

R_fp      s    sp     {Rsp}

G_chan   d5a   s  VALUE={J(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d5a,s)))-1)/2/al,sgn(V(d5a,s)),V(sp,s))}
R_d06    d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0
G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

* D_body s d3 dbody
* .model dbody D ( BV={UB*10} CJO={Cds0/100} TT={ta} IS={a*exp(lnIsj)} m=0.3 RS={dRdi*1m} n={ndi} XTI={nisj} )

R_1        g    s  1G
R_d01      d    s  1G
R_d02     d2    s  1G
R_d03     d1    d  1k
R_ssp     g    sp  100Meg

R_met      s    s0 {Rmet}

G_th      0   Tj  VALUE={(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}

.ENDS

**********

.SUBCKT A6_40_e_var dd g s0 sp Tj PARAMS: a=1 dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 
+ Inn=1 Unn=1 Rmax=0 gmin=1 Rsp=1 Rs=1 Rp=1 Rmet=1u

* corner parameters
.PARAM  dVthmax=0.3   dCmax=0.3   dVbrmax=3.15

* technology parameters
.PARAM  Fm=0.05    Fn=1        al=0.5
.PARAM  c=0.95     Vth0=2.152  auth=3.0m
.PARAM  UT=15.11m  ab=18.74m   lB=-23       UB=42.5

.PARAM  b0=213.4   p0=5.043    p1=-14.06m   p2=21.76u

.PARAM  Rd=3.579m  nmu=3.044   Tref=298     T0=273      lnIsj=-25.41
.PARAM  ndi=1.099  nisj=2.463  Rdi=1.152m   nmu2=0.959
.PARAM  td=20n     ta=2n
.PARAM  Rf=0.6     nmu3=1.769

.PARAM  kbq=86.2u

* Cgs
.PARAM  f3=606.2p

* Cgfp
.PARAM  f3a=31.78p

* Cds
.PARAM q81=145.0p
.PARAM qs1=65.62p  qs2=345.4p  qs3=-87.45m
.PARAM qs4=85.58p  qs5=-16.63m
.PARAM x0=308.2m   x1=27.68    dx={x1-x0} 
.PARAM f2r=226.4m

* Cgd
.PARAM  ps0=2.966p ps1=16.86p ps2=-1.938 ps3=85.69p ps4=-162.1m ps5=6.862p ps6=8.007p
.PARAM  f5=34.57p
.PARAM  x2=6.017 x3=25.02      dx2={x3-x2}

.PARAM  Vth={Vth0+dVthmax*dVth}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dRdson,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dRdson==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
* .PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cgs0={f3*a*dC1}
.PARAM  Cgs1={f3a*a*dC1}
.PARAM  dRdi={Rdi/a}

.PARAM  Cox1={(ps1*a+ps0*sqrt(a))*dC1}
.PARAM  Cox2={ps3*a*dC1}
.PARAM  Cox3={(ps5*a+ps6)*dC1}
.PARAM  Cox4={(f5*a+(ps5*a+ps6))*dC1}

.PARAM  Cds0={qs1*a*dC1}
.PARAM  Cds1={qs2*(1+f2r/sqrt(a))*a*dC1}
.PARAM  Cds2={qs4*a*dC1}
.PARAM  Cds3={(q81+qs1)*a*dC1}

* .FUNC  VBR(Usps)    {max(UB+min(Usps,dUmax)*s1+max(Usps-dUmax,0)*s2,Umin)}
.FUNC  VBR(Usps)    {UB+dVbrmax*dVbr}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC J(d,g,T,da,s,Usps) 
+ {a*(s*(Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**nisj)}

.FUNC  Pr(Vss0,Vssp)  {Vss0*Vss0/max(Rmet,1u)+Vssp*Vssp/Rsp}

* .FUNC J1(d,g,T,da,s,Usps) {a*(s*(exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC QCds(x) {Cds3*min(x,x1)+Cds0*max(x-x1,0)+(Cds3-Cds0)*((limit(x,x0,x1)-x0)**3/(dx*dx)*((limit(x,x0,x1)-x0)/(2*dx)-1))}
.FUNC QCdg(x) {Cox4*min(x,x3)+Cox3*max(x-x3,0)+(Cox4-Cox3)*((limit(x,x2,x3)-x2)**3/(dx2*dx2)*((limit(x,x2,x3)-x2)/(2*dx2)-1))}


E_Edg1     d   ox    VALUE {if(V(d,g)>0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/ps2,0)}
C_Cdg1    ox   g     {Cox1}
E_Edg2     d   ox1   VALUE {if(V(d,g)>0,V(d,g)-(exp(ps4*max(V(d,g),0))-1)/ps4,0)}
C_Cdg2   ox1   g     {Cox2}
E_Edg3     d   ox2   VALUE {V(d,g)-QCdg(V(d,g))/Cox4}
C_Cdg3   ox2   g     {Cox4} 

E_Eds      d   edep  VALUE {V(d,s)-QCds(V(d,s))/Cds3}
C_Cds  edep    s    {Cds3/2} 

E_Eds1     d   edep1 VALUE {V(d,sp)-QCds(V(d,sp))/Cds3}
C_Cds1 edep1   sp    {Cds3/2} 
E_Eds2     d   edep2 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/qs5,0)}
C_Cds2 edep2   sp    {Cds2}
E_Eds3     d   edep3 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/qs3,0)}
C_Cds3 edep3   sp    {Cds1}

C_Cgs     g    s      {Cgs0}
C_Cgs1    g    sp     {Cgs1}

R_fp      s    sp     {Rsp}

G_chan   d5a   s  VALUE={J(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d5a,s)))-1)/2/al,sgn(V(d5a,s)),V(sp,s))}
R_d06    d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0
G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

* D_body s d3 dbody
* .model dbody D ( BV={UB*10} CJO={Cds0/100} TT={ta} IS={a*exp(lnIsj)} m=0.3 RS={dRdi*1m} n={ndi} XTI={nisj} )

R_1        g    s  1G
R_d01      d    s  1G
R_d02     d2    s  1G
R_d03     d1    d  1k
R_ssp     g    sp  100Meg

R_met      s    s0 {Rmet}

G_th      0   Tj  VALUE={(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}

.ENDS
 
**********

.SUBCKT A6_40_e1_var dd g s0 sp Tj PARAMS: a=1 dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 
+ Inn=1 Unn=1 Rmax=0 gmin=1 Rsp=1 Rs=1 Rp=1 Rmet=1u

* corner parameters
.PARAM  dVthmax=0.4   dCmax=0.3   dVbrmax=3.15

* technology parameters
.PARAM  Fm=0.05    Fn=1        al=0.5
.PARAM  c=0.95     Vth0=3.51   auth=3.0m
.PARAM  UT=84.76m  ab=20.15m   lB=-23       UB=41.4

.PARAM  b0=143.8   p0=6.094    p1=-15.32m   p2=26.44u

.PARAM  Rd=4.02m   nmu=3.214   Tref=298     T0=273      lnIsj=-27.1
.PARAM  ndi=1.063  nisj=3.00   Rdi=0.717m   nmu2=1.616
.PARAM  td=20n     ta=2n
.PARAM  Rf=0.6     nmu3=1.1

.PARAM  kbq=86.2u

* Cgs
.PARAM  f3=544.8p

* Cgfp
.PARAM  f3a=31.78p

* Cds
.PARAM q81=31.98p
.PARAM qs1=58.61p  qs2=548.4p  qs3=-85.34m
.PARAM qs4=46.61p  qs5=-8.081m
.PARAM x0=12.88    x1=25.56    dx={x1-x0} 
.PARAM f2r=178.9m

* Cgd
.PARAM  ps0=27.7p ps1=55.67p ps2=-159.6m ps3=6.027p ps4=-1.123m ps5=8.05f ps6=7.499p
.PARAM  f5=27.9p
.PARAM  x2=7.131 x3=25.52      dx2={x3-x2}

.PARAM  Vth={Vth0+dVthmax*dVth}
.PARAM  q0={b0*((T0/Tref)**nmu3)*a}
.PARAM  q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM  q2={(Fm*sqrt(0.4)-c)*Inn*q0}
.PARAM  Rlim={(q1+2*q2*Rmax-sqrt(max(q1**2+4*q2,0)))/(2*q2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dRdson,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM  bm={c/((1/gmin-Rs)**2*Inn*a*(T0/Tref)**nmu3)}
.PARAM  bet={b0+(b0-bm)*if(dRdson==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM  dC1={1+dCmax*limit(dC,0,1)}
* .PARAM  dC2={1+1.5*dCmax*limit(dC,0,1)}

.PARAM  Cgs0={f3*a*dC1}
.PARAM  Cgs1={f3a*a*dC1}
.PARAM  dRdi={Rdi/a}

.PARAM  Cox1={(ps1*a+ps0*sqrt(a))*dC1}
.PARAM  Cox2={ps3*a*dC1}
.PARAM  Cox3={(ps5*a+ps6)*dC1}
.PARAM  Cox4={(f5*a+(ps5*a+ps6))*dC1}

.PARAM  Cds0={qs1*a*dC1}
.PARAM  Cds1={qs2*(1+f2r/sqrt(a))*a*dC1}
.PARAM  Cds2={qs4*a*dC1}
.PARAM  Cds3={(q81+qs1)*a*dC1}

* .FUNC  VBR(Usps)    {max(UB+min(Usps,dUmax)*s1+max(Usps-dUmax,0)*s2,Umin)}
.FUNC  VBR(Usps)    {UB+dVbrmax*dVbr}

.FUNC  I0(Uee,p,pp,z1)  {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC  Ig(Uds,T,p,Uee)  {bet*(T0/T)**nmu3*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC J(d,g,T,da,s,Usps) 
+ {a*(s*(Ig(da,T,(p0+(p1+p2*T)*T)*kbq*T,g-Vth+auth*(T-Tref)+Fm*da**Fn+1*limit(-d,0,1))+
+ exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC  Idiode(Usd,Tj,Iss) {exp(min(log(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC  Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**nisj)}

.FUNC  Pr(Vss0,Vssp)  {Vss0*Vss0/max(Rmet,1u)+Vssp*Vssp/Rsp}

* .FUNC J1(d,g,T,da,s,Usps) {a*(s*(exp(min(lB+(d-VBR(Usps)-ab*(T-Tref))/UT,25))))}

.FUNC QCds(x) {Cds3*min(x,x1)+Cds0*max(x-x1,0)+(Cds3-Cds0)*((limit(x,x0,x1)-x0)**3/(dx*dx)*((limit(x,x0,x1)-x0)/(2*dx)-1))}
.FUNC QCdg(x) {Cox4*min(x,x3)+Cox3*max(x-x3,0)+(Cox4-Cox3)*((limit(x,x2,x3)-x2)**3/(dx2*dx2)*((limit(x,x2,x3)-x2)/(2*dx2)-1))}


E_Edg1     d   ox    VALUE {if(V(d,g)>0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/ps2,0)}
C_Cdg1    ox   g     {Cox1}
E_Edg2     d   ox1   VALUE {if(V(d,g)>0,V(d,g)-(exp(ps4*max(V(d,g),0))-1)/ps4,0)}
C_Cdg2   ox1   g     {Cox2}
E_Edg3     d   ox2   VALUE {V(d,g)-QCdg(V(d,g))/Cox4}
C_Cdg3   ox2   g     {Cox4} 

E_Eds      d   edep  VALUE {V(d,s)-QCds(V(d,s))/Cds3}
C_Cds  edep    s    {Cds3/2} 

E_Eds1     d   edep1 VALUE {V(d,sp)-QCds(V(d,sp))/Cds3}
C_Cds1 edep1   sp    {Cds3/2} 
E_Eds2     d   edep2 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/qs5,0)}
C_Cds2 edep2   sp    {Cds2}
E_Eds3     d   edep3 VALUE {if(V(d,sp)>0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/qs3,0)}
C_Cds3 edep3   sp    {Cds1}

C_Cgs     g    s      {Cgs0}
C_Cgs1    g    sp     {Cgs1}

R_fp      s    sp     {Rsp}

G_chan   d5a   s  VALUE={J(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(sqrt(1+4*al*abs(V(d5a,s)))-1)/2/al,sgn(V(d5a,s)),V(sp,s))}
R_d06    d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense  dd   d1  0
G_diode   s   d3  VALUE={Idiod(V(s,d3),T0+limit(V(Tj),-200,499))}
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

* D_body s d3 dbody
* .model dbody D ( BV={UB*10} CJO={Cds0/100} TT={ta} IS={a*exp(lnIsj)} m=0.3 RS={dRdi*1m} n={ndi} XTI={nisj} )

R_1        g    s  1G
R_d01      d    s  1G
R_d02     d2    s  1G
R_d03     d1    d  1k
R_ssp     g    sp  100Meg

R_met      s    s0 {Rmet}

G_th      0   Tj  VALUE={(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}

.ENDS



********************************************************************************
* Level 3 Models
********************************************************************************

* .SUBCKT AFET6_40_LL_1mm2 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0 Ld=0 Lg=0
* 
* .PARAM Rs=0         Rg=2.0       Rd=0         Rmet=0
* .PARAM Inn=30       Unn=10       Rmax=4m      gmin=30
* .PARAM act=1.0      Rsp=2.4
* 
* X_1  drain g source sp Tj A6_40_e_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
* +                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
* R_g    gate     g    {Rg}
* 
* R_th  Tj  Tcase  0
* * R_th1  Tj      t1              {20m+limit(dZth,0,1)*7m}
* * R_th2  t1      t2              {230m+limit(dZth,0,1)*80m}
* * R_th3  t2      t3              {800m+limit(dZth,0,1)*40m}
* * R_th4  t3      t4              {1+limit(dZth,0,1)*550m}
* * R_th5  t4      Tcase           {500m+limit(dZth,0,1)*280m}
* * C_th1  Tj      0               10u
* * C_th2  t1      0               60u
* * C_th3  t2      0               350u
* * C_th4  t3      0               240u
* * C_th5  t4      0               56m
* * C_th6  Tcase   0               0
* 
* .ENDS

**********

* .SUBCKT AFET6_40_LL_10mm2 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0 Ld=0 Lg=0
* 
* .PARAM Rs=0         Rg=2.0       Rd=0         Rmet=0
* .PARAM Inn=30       Unn=10       Rmax=4m      gmin=30
* .PARAM act=10.0     Rsp=2.4
* 
* X_1  drain g source sp Tj A6_40_e_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
* +                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
* R_g    gate     g    {Rg}
* 
* R_th  Tj  Tcase  0
* * R_th1  Tj      t1              {20m+limit(dZth,0,1)*7m}
* * R_th2  t1      t2              {230m+limit(dZth,0,1)*80m}
* * R_th3  t2      t3              {800m+limit(dZth,0,1)*40m}
* * R_th4  t3      t4              {1+limit(dZth,0,1)*550m}
* * R_th5  t4      Tcase           {500m+limit(dZth,0,1)*280m}
* * C_th1  Tj      0               10u
* * C_th2  t1      0               60u
* * C_th3  t2      0               350u
* * C_th4  t3      0               240u
* * C_th5  t4      0               56m
* * C_th6  Tcase   0               0
* 
* .ENDS

**********

.SUBCKT IAUA250N04S6N005 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=0.7n Lg=0.1n

.PARAM Rs=85u       Rg=1.0       Rd=6u        Rmet=11u
.PARAM Inn=125      Unn=10       Rmax=0.55m   gmin=126
.PARAM RRf=165m     Rrbond=344u  Rtb=716.8m   g2=266m
.PARAM act=14.78    Rsp=2.4

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit((dT/(max(I,1n)*Rb)+RRf*I)*g2,0,I))**2}

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

G_th   0       Tb  VALUE={Pb(abs(I(L_s)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
C_thb  Tb      0               17.72m
R_thb  Tb      Tj              {Rtb} 
R_th1  Tj      t1              {1.89m+limit(dZth,0,1)*701.33u}
R_th2  t1      t2              {24.14m+limit(dZth,0,1)*8.93m}
R_th3  t2      t3              {85.05m+limit(dZth,0,1)*3.1m}
R_th4  t3      t4              {96.71m+limit(dZth,0,1)*53.26m}
R_th5  t4      Tcase           {210.36m+limit(dZth,0,1)*115.86m}
C_th1  Tj      0               128.607u
C_th2  t1      0               552.827u
C_th3  t2      0               3.302m
C_th4  t3      0               2.605m
C_th5  t4      0               51.15m
C_th6  Tcase   0               50m

.ENDS

**********

.SUBCKT IAUA250N04S6N007E drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=0.7n Lg=0.1n

.PARAM Rs=117u      Rg=1.0       Rd=6u        Rmet=19u
.PARAM Inn=125      Unn=10       Rmax=0.7m    gmin=109
.PARAM RRf=230m     Rrbond=470u  Rtb=716.8m   g2=266m
.PARAM act=11.11    Rsp=2.4

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit((dT/(max(I,1n)*Rb)+RRf*I)*g2,0,I))**2}

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

G_th   0       Tb  VALUE={Pb(abs(I(L_s)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
C_thb  Tb      0               17.72m
R_thb  Tb      Tj              {Rtb} 
R_th1  Tj      t1              {2.52m+limit(dZth,0,1)*927.03u}
R_th2  t1      t2              {31.9m+limit(dZth,0,1)*11.81m}
R_th3  t2      t3              {112.27m+limit(dZth,0,1)*4.2m}
R_th4  t3      t4              {128.65m+limit(dZth,0,1)*84.93m}
R_th5  t4      Tcase           {242.63m+limit(dZth,0,1)*160.17m}
C_th1  Tj      0               96.672u
C_th2  t1      0               418.241u
C_th3  t2      0               2.503m
C_th4  t3      0               1.958m
C_th5  t4      0               41.975m
C_th6  Tcase   0               50m

.ENDS

**********

.SUBCKT IAUA250N04S6N008 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=0.7n Lg=0.1n

.PARAM Rs=117u      Rg=0.9       Rd=6u        Rmet=19u
.PARAM Inn=125      Unn=10       Rmax=0.8m    gmin=101
.PARAM RRf=230m     Rrbond=470u  Rtb=716.8m   g2=266m
.PARAM act=9.42     Rsp=2.4

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit((dT/(max(I,1n)*Rb)+RRf*I)*g2,0,I))**2}

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

G_th   0       Tb  VALUE={Pb(abs(I(L_s)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
C_thb  Tb      0               17.72m
R_thb  Tb      Tj              {Rtb} 
R_th1  Tj      t1              {2.97m+limit(dZth,0,1)*1.09m}
R_th2  t1      t2              {37.47m+limit(dZth,0,1)*13.87m}
R_th3  t2      t3              {131.74m+limit(dZth,0,1)*5.02m}
R_th4  t3      t4              {151.74m+limit(dZth,0,1)*95.74m}
R_th5  t4      Tcase           {263.87m+limit(dZth,0,1)*166.49m}
C_th1  Tj      0               81.967u
C_th2  t1      0               356.097u
C_th3  t2      0               2.134m
C_th4  t3      0               1.66m
C_th5  t4      0               37.75m
C_th6  Tcase   0               50m

.ENDS

**********

.SUBCKT IAUCN04S6N007T drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=162u      Rg=1.0       Rd=119u      Rmet=6u
.PARAM Inn=60       Unn=10       Rmax=0.75m   gmin=77
.PARAM act=11.58    Rsp=1.6

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

R_th1  Tj      t1              {2.41m+limit(dZth,0,1)*897.01u}
R_th2  t1      t2              {30.64m+limit(dZth,0,1)*11.34m}
R_th3  t2      t3              {107.84m+limit(dZth,0,1)*4.02m}
R_th4  t3      t4              {123.43m+limit(dZth,0,1)*72.42m}
R_th5  t4      Tcase           {237.6m+limit(dZth,0,1)*139.4m}
C_th1  Tj      0               100.762u
C_th2  t1      0               435.503u
C_th3  t2      0               2.605m
C_th4  t3      0               2.041m
C_th5  t4      0               43.15m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUCN04S6N009T drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=173u      Rg=0.9       Rd=121u      Rmet=7u
.PARAM Inn=60       Unn=10       Rmax=0.89m   gmin=70
.PARAM act=9.42     Rsp=1.5

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

R_th1  Tj      t1              {2.97m+limit(dZth,0,1)*1.09m}
R_th2  t1      t2              {37.47m+limit(dZth,0,1)*13.87m}
R_th3  t2      t3              {131.74m+limit(dZth,0,1)*5.02m}
R_th4  t3      t4              {151.74m+limit(dZth,0,1)*84.79m}
R_th5  t4      Tcase           {263.87m+limit(dZth,0,1)*147.44m}
C_th1  Tj      0               81.967u
C_th2  t1      0               356.097u
C_th3  t2      0               2.134m
C_th4  t3      0               1.66m
C_th5  t4      0               37.75m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUCN04S6N013T drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=261u      Rg=1.1       Rd=125u      Rmet=61u
.PARAM Inn=60       Unn=10       Rmax=1.32m   gmin=55
.PARAM act=5.85     Rsp=1.8

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

R_th1  Tj      t1              {4.78m+limit(dZth,0,1)*1.76m}
R_th2  t1      t2              {59.49m+limit(dZth,0,1)*22.02m}
R_th3  t2      t3              {208.56m+limit(dZth,0,1)*8.39m}
R_th4  t3      t4              {244.33m+limit(dZth,0,1)*98.35m}
R_th5  t4      Tcase           {336.76m+limit(dZth,0,1)*135.56m}
C_th1  Tj      0               50.903u
C_th2  t1      0               224.272u
C_th3  t2      0               1.349m
C_th4  t3      0               1.031m
C_th5  t4      0               28.825m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUCN04S6N017T drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=211u      Rg=2.5       Rd=129u      Rmet=11u
.PARAM Inn=60       Unn=10       Rmax=1.73m   gmin=46
.PARAM act=4.14     Rsp=4.1

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

R_th1  Tj      t1              {6.75m+limit(dZth,0,1)*2.5m}
R_th2  t1      t2              {83.03m+limit(dZth,0,1)*30.73m}
R_th3  t2      t3              {290.32m+limit(dZth,0,1)*12.24m}
R_th4  t3      t4              {345.25m+limit(dZth,0,1)*132.76m}
R_th5  t4      Tcase           {401.88m+limit(dZth,0,1)*154.54m}
C_th1  Tj      0               36.024u
C_th2  t1      0               160.7u
C_th3  t2      0               970.485u
C_th4  t3      0               729.547u
C_th5  t4      0               24.55m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6L005 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=82u       Rg=1.0       Rd=33u       Rmet=8u
.PARAM Inn=60       Unn=10       Rmax=0.55m   gmin=128
.PARAM act=13.02    Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {2.15m+limit(dZth,0,1)*790.52u}
R_th2  t1      t2              {27.32m+limit(dZth,0,1)*10.12m}
R_th3  t2      t3              {96.23m+limit(dZth,0,1)*3.55m}
R_th4  t3      t4              {109.78m+limit(dZth,0,1)*107.23m}
R_th5  t4      Tcase           {224.01m+limit(dZth,0,1)*218.82m}
C_th1  Tj      0               113.292u
C_th2  t1      0               488.338u
C_th3  t2      0               2.919m
C_th4  t3      0               2.294m
C_th5  t4      0               46.75m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6N006 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=82u       Rg=1.0       Rd=33u       Rmet=8u
.PARAM Inn=60       Unn=10       Rmax=0.6m    gmin=83
.PARAM act=13.02    Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {2.15m+limit(dZth,0,1)*790.52u}
R_th2  t1      t2              {27.32m+limit(dZth,0,1)*10.12m}
R_th3  t2      t3              {96.23m+limit(dZth,0,1)*3.55m}
R_th4  t3      t4              {109.78m+limit(dZth,0,1)*107.23m}
R_th5  t4      Tcase           {224.01m+limit(dZth,0,1)*218.82m}
C_th1  Tj      0               113.292u
C_th2  t1      0               488.338u
C_th3  t2      0               2.919m
C_th4  t3      0               2.294m
C_th5  t4      0               46.75m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6L008 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=150u      Rg=0.8       Rd=5u        Rmet=12u
.PARAM Inn=60       Unn=10       Rmax=0.8m    gmin=108
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj A6_40_e_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {2.97m+limit(dZth,0,1)*1.09m}
R_th2  t1      t2              {37.47m+limit(dZth,0,1)*13.87m}
R_th3  t2      t3              {132.49m+limit(dZth,0,1)*12.02m}
R_th4  t3      t4              {151.74m+limit(dZth,0,1)*140.37m}
R_th5  t4      Tcase           {263.87m+limit(dZth,0,1)*244.11m}
C_th1  Tj      0               81.967u
C_th2  t1      0               356.097u
C_th3  t2      0               2.188m
C_th4  t3      0               1.66m
C_th5  t4      0               37.75m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6N008 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=150u      Rg=0.8       Rd=5u        Rmet=12u
.PARAM Inn=60       Unn=10       Rmax=0.8m    gmin=70
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj A6_40_e1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {2.97m+limit(dZth,0,1)*1.09m}
R_th2  t1      t2              {37.47m+limit(dZth,0,1)*13.87m}
R_th3  t2      t3              {132.49m+limit(dZth,0,1)*12.02m}
R_th4  t3      t4              {151.74m+limit(dZth,0,1)*140.37m}
R_th5  t4      Tcase           {263.87m+limit(dZth,0,1)*244.11m}
C_th1  Tj      0               81.967u
C_th2  t1      0               356.097u
C_th3  t2      0               2.188m
C_th4  t3      0               1.66m
C_th5  t4      0               37.75m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6N009 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=150u      Rg=0.8       Rd=5u        Rmet=12u
.PARAM Inn=60       Unn=10       Rmax=0.9m    gmin=70
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj A6_40_e1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {2.97m+limit(dZth,0,1)*1.09m}
R_th2  t1      t2              {37.47m+limit(dZth,0,1)*13.87m}
R_th3  t2      t3              {132.49m+limit(dZth,0,1)*12.02m}
R_th4  t3      t4              {151.74m+limit(dZth,0,1)*140.37m}
R_th5  t4      Tcase           {263.87m+limit(dZth,0,1)*244.11m}
C_th1  Tj      0               81.967u
C_th2  t1      0               356.097u
C_th3  t2      0               2.188m
C_th4  t3      0               1.66m
C_th5  t4      0               37.75m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6L009 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=270u      Rg=0.75      Rd=5u        Rmet=93u
.PARAM Inn=60       Unn=10       Rmax=0.96m   gmin=104
.PARAM act=9.28     Rsp=2.4

X_1  d1 g s sp Tj A6_40_e_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {3.01m+limit(dZth,0,1)*1.12m}
R_th2  t1      t2              {38.02m+limit(dZth,0,1)*14.07m}
R_th3  t2      t3              {134.4m+limit(dZth,0,1)*12.21m}
R_th4  t3      t4              {154.02m+limit(dZth,0,1)*138.38m}
R_th5  t4      Tcase           {265.89m+limit(dZth,0,1)*238.88m}
C_th1  Tj      0               80.749u
C_th2  t1      0               350.943u
C_th3  t2      0               2.157m
C_th4  t3      0               1.635m
C_th5  t4      0               37.4m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6N010 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=271u      Rg=0.75      Rd=5u        Rmet=94u
.PARAM Inn=60       Unn=10       Rmax=1.03m   gmin=68
.PARAM act=9.28     Rsp=2.4

X_1  d1 g s sp Tj A6_40_e1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {3.01m+limit(dZth,0,1)*1.12m}
R_th2  t1      t2              {38.02m+limit(dZth,0,1)*14.07m}
R_th3  t2      t3              {134.4m+limit(dZth,0,1)*12.21m}
R_th4  t3      t4              {154.02m+limit(dZth,0,1)*138.38m}
R_th5  t4      Tcase           {265.89m+limit(dZth,0,1)*238.88m}
C_th1  Tj      0               80.749u
C_th2  t1      0               350.943u
C_th3  t2      0               2.157m
C_th4  t3      0               1.635m
C_th5  t4      0               37.4m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6L012 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=235u      Rg=0.75      Rd=5u        Rmet=58u
.PARAM Inn=60       Unn=10       Rmax=1.21m   gmin=84
.PARAM act=5.74     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {4.87m+limit(dZth,0,1)*1.8m}
R_th2  t1      t2              {60.6m+limit(dZth,0,1)*22.42m}
R_th3  t2      t3              {212.4m+limit(dZth,0,1)*8.56m}
R_th4  t3      t4              {249.01m+limit(dZth,0,1)*169.22m}
R_th5  t4      Tcase           {340.04m+limit(dZth,0,1)*231.08m}
C_th1  Tj      0               49.946u
C_th2  t1      0               220.193u
C_th3  t2      0               1.325m
C_th4  t3      0               1.011m
C_th5  t4      0               28.55m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC120N04S6N013 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=236u      Rg=0.75      Rd=5u        Rmet=59u
.PARAM Inn=60       Unn=10       Rmax=1.34m   gmin=54
.PARAM act=5.74     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {4.87m+limit(dZth,0,1)*1.8m}
R_th2  t1      t2              {60.6m+limit(dZth,0,1)*22.42m}
R_th3  t2      t3              {212.4m+limit(dZth,0,1)*8.56m}
R_th4  t3      t4              {249.01m+limit(dZth,0,1)*169.22m}
R_th5  t4      Tcase           {340.04m+limit(dZth,0,1)*231.08m}
C_th1  Tj      0               49.946u
C_th2  t1      0               220.193u
C_th3  t2      0               1.325m
C_th4  t3      0               1.011m
C_th5  t4      0               28.55m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC100N04S6L014 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=222u      Rg=2.2       Rd=5u        Rmet=45u
.PARAM Inn=50       Unn=10       Rmax=1.40m   gmin=69
.PARAM act=4.672    Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {5.98m+limit(dZth,0,1)*2.22m}
R_th2  t1      t2              {73.91m+limit(dZth,0,1)*27.36m}
R_th3  t2      t3              {258.69m+limit(dZth,0,1)*10.72m}
R_th4  t3      t4              {305.94m+limit(dZth,0,1)*195.71m}
R_th5  t4      Tcase           {377.8m+limit(dZth,0,1)*241.67m}
C_th1  Tj      0               40.653u
C_th2  t1      0               180.521u
C_th3  t2      0               1.089m
C_th4  t3      0               823.295u
C_th5  t4      0               25.88m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC100N04S6N015 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=222u      Rg=2.4       Rd=5u        Rmet=45u
.PARAM Inn=50       Unn=10       Rmax=1.55m   gmin=45
.PARAM act=4.672    Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {5.98m+limit(dZth,0,1)*2.22m}
R_th2  t1      t2              {73.91m+limit(dZth,0,1)*27.36m}
R_th3  t2      t3              {258.69m+limit(dZth,0,1)*10.72m}
R_th4  t3      t4              {305.94m+limit(dZth,0,1)*195.71m}
R_th5  t4      Tcase           {377.8m+limit(dZth,0,1)*241.67m}
C_th1  Tj      0               40.653u
C_th2  t1      0               180.521u
C_th3  t2      0               1.089m
C_th4  t3      0               823.295u
C_th5  t4      0               25.88m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC100N04S6L020 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=378u      Rg=2.3       Rd=5u        Rmet=163u
.PARAM Inn=50       Unn=10       Rmax=2.04m   gmin=57
.PARAM act=3.254    Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {8.59m+limit(dZth,0,1)*3.18m}
R_th2  t1      t2              {104.59m+limit(dZth,0,1)*38.71m}
R_th3  t2      t3              {364.98m+limit(dZth,0,1)*15.95m}
R_th4  t3      t4              {439.26m+limit(dZth,0,1)*280.09m}
R_th5  t4      Tcase           {454.71m+limit(dZth,0,1)*289.94m}
C_th1  Tj      0               28.314u
C_th2  t1      0               127.573u
C_th3  t2      0               772.68u
C_th4  t3      0               573.417u
C_th5  t4      0               22.335m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC100N04S6N022 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=379u      Rg=2.5       Rd=5u        Rmet=164u
.PARAM Inn=50       Unn=10       Rmax=2.26m   gmin=37
.PARAM act=3.254    Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {8.59m+limit(dZth,0,1)*3.18m}
R_th2  t1      t2              {104.59m+limit(dZth,0,1)*38.71m}
R_th3  t2      t3              {364.98m+limit(dZth,0,1)*15.95m}
R_th4  t3      t4              {439.26m+limit(dZth,0,1)*280.09m}
R_th5  t4      Tcase           {454.71m+limit(dZth,0,1)*289.94m}
C_th1  Tj      0               28.314u
C_th2  t1      0               127.573u
C_th3  t2      0               772.68u
C_th4  t3      0               573.417u
C_th5  t4      0               22.335m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC100N04S6L025 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=320u      Rg=3.0       Rd=5u        Rmet=105u
.PARAM Inn=50       Unn=10       Rmax=2.56m   gmin=50
.PARAM act=2.39     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {11.69m+limit(dZth,0,1)*4.33m}
R_th2  t1      t2              {140.34m+limit(dZth,0,1)*51.94m}
R_th3  t2      t3              {488.32m+limit(dZth,0,1)*22.48m}
R_th4  t3      t4              {598.05m+limit(dZth,0,1)*290.01m}
R_th5  t4      Tcase           {533.93m+limit(dZth,0,1)*258.91m}
C_th1  Tj      0               20.796u
C_th2  t1      0               95.074u
C_th3  t2      0               578.284u
C_th4  t3      0               421.163u
C_th5  t4      0               20.175m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC100N04S6N028 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=320u      Rg=3.2       Rd=5u        Rmet=105u
.PARAM Inn=50       Unn=10       Rmax=2.86m   gmin=32
.PARAM act=2.39     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {11.69m+limit(dZth,0,1)*4.33m}
R_th2  t1      t2              {140.34m+limit(dZth,0,1)*51.94m}
R_th3  t2      t3              {488.32m+limit(dZth,0,1)*22.48m}
R_th4  t3      t4              {598.05m+limit(dZth,0,1)*290.01m}
R_th5  t4      Tcase           {533.93m+limit(dZth,0,1)*258.91m}
C_th1  Tj      0               20.796u
C_th2  t1      0               95.074u
C_th3  t2      0               578.284u
C_th4  t3      0               421.163u
C_th5  t4      0               20.175m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC80N04S6L032 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=294u      Rg=2.4       Rd=5u        Rmet=79u
.PARAM Inn=40       Unn=10       Rmax=3.29m   gmin=39
.PARAM act=1.79     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {15.61m+limit(dZth,0,1)*5.78m}
R_th2  t1      t2              {184.46m+limit(dZth,0,1)*68.27m}
R_th3  t2      t3              {639.88m+limit(dZth,0,1)*31.1m}
R_th4  t3      t4              {798.52m+limit(dZth,0,1)*355.22m}
R_th5  t4      Tcase           {623.71m+limit(dZth,0,1)*277.45m}
C_th1  Tj      0               15.575u
C_th2  t1      0               72.333u
C_th3  t2      0               441.964u
C_th4  t3      0               315.432u
C_th5  t4      0               18.675m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC80N04S6N036 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=294u      Rg=2.4       Rd=5u        Rmet=79u
.PARAM Inn=40       Unn=10       Rmax=3.68m   gmin=25
.PARAM act=1.79     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {15.61m+limit(dZth,0,1)*5.78m}
R_th2  t1      t2              {184.46m+limit(dZth,0,1)*68.27m}
R_th3  t2      t3              {639.88m+limit(dZth,0,1)*31.1m}
R_th4  t3      t4              {798.52m+limit(dZth,0,1)*355.22m}
R_th5  t4      Tcase           {623.71m+limit(dZth,0,1)*277.45m}
C_th1  Tj      0               15.575u
C_th2  t1      0               72.333u
C_th3  t2      0               441.964u
C_th4  t3      0               315.432u
C_th5  t4      0               18.675m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC60N04S6L039 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=281u      Rg=2.0       Rd=5u        Rmet=66u
.PARAM Inn=30       Unn=10       Rmax=4.02m   gmin=30
.PARAM act=1.39     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                             Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {20.1m+limit(dZth,0,1)*7.45m}
R_th2  t1      t2              {233.86m+limit(dZth,0,1)*86.55m}
R_th3  t2      t3              {808.86m+limit(dZth,0,1)*41.4m}
R_th4  t3      t4              {1.03+limit(dZth,0,1)*384.39m}
R_th5  t4      Tcase           {719.05m+limit(dZth,0,1)*268.34m}
C_th1  Tj      0               12.095u
C_th2  t1      0               57.053u
C_th3  t2      0               350.158u
C_th4  t3      0               244.944u
C_th5  t4      0               17.675m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC60N04S6N044 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=281u      Rg=2.2       Rd=5u        Rmet=66u
.PARAM Inn=30       Unn=10       Rmax=4.52m   gmin=19
.PARAM act=1.39     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {20.1m+limit(dZth,0,1)*7.45m}
R_th2  t1      t2              {233.86m+limit(dZth,0,1)*86.55m}
R_th3  t2      t3              {808.86m+limit(dZth,0,1)*41.4m}
R_th4  t3      t4              {1.03+limit(dZth,0,1)*384.39m}
R_th5  t4      Tcase           {719.05m+limit(dZth,0,1)*268.34m}
C_th1  Tj      0               12.095u
C_th2  t1      0               57.053u
C_th3  t2      0               350.158u
C_th4  t3      0               244.944u
C_th5  t4      0               17.675m
C_th6  Tcase   0               30m

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6L030 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=650u      Rg=3.1       Rd=5u        Rmet=330u
.PARAM Inn=30       Unn=10       Rmax=3.0m    gmin=39
.PARAM act=2.52     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {11.09m+limit(dZth,0,1)*4.1m}
R_th2  t1      t2              {133.45m+limit(dZth,0,1)*49.39m}
R_th3  t2      t3              {464.6m+limit(dZth,0,1)*21.19m}
R_th4  t3      t4              {567.2m+limit(dZth,0,1)*328.75m}
R_th5  t4      Tcase           {519.26m+limit(dZth,0,1)*300.97m}
C_th1  Tj      0               21.927u
C_th2  t1      0               99.979u
C_th3  t2      0               607.656u
C_th4  t3      0               444.072u
C_th5  t4      0               20.5m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC60N04S6L030H battery gate1 gate2 ground phase Tj1 Tj2 Tcase1 Tcase2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 dZth1=0 dZth2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  Tj1 Tcase1 IAUC60N04S6L030 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dZth={dZth1} Ls={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground Tj2 Tcase2 IAUC60N04S6L030 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dZth={dZth2} Ls={Ls2} Ld={Ld2*2} Lg={Lg2} 
R_thclip1 Tj1     Tclip           {1350m+limit(dZth1,0,1)*3m}
C_thclip  Tclip   0               10m
R_thclip2 Tcase2  Tclip           {450m+limit(dZth2,0,1)*1m}

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6N031 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=650u      Rg=3.3       Rd=5u        Rmet=330u
.PARAM Inn=30       Unn=10       Rmax=3.1m    gmin=25
.PARAM act=2.52     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {11.09m+limit(dZth,0,1)*4.1m}
R_th2  t1      t2              {133.45m+limit(dZth,0,1)*49.39m}
R_th3  t2      t3              {464.6m+limit(dZth,0,1)*21.19m}
R_th4  t3      t4              {567.2m+limit(dZth,0,1)*328.75m}
R_th5  t4      Tcase           {519.26m+limit(dZth,0,1)*300.97m}
C_th1  Tj      0               21.927u
C_th2  t1      0               99.979u
C_th3  t2      0               607.656u
C_th4  t3      0               444.072u
C_th5  t4      0               20.5m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC60N04S6N031H battery gate1 gate2 ground phase Tj1 Tj2 Tcase1 Tcase2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 dZth1=0 dZth2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  Tj1 Tcase1 IAUC60N04S6N031 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dZth={dZth1} Ls={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground Tj2 Tcase2 IAUC60N04S6N031 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dZth={dZth2} Ls={Ls2} Ld={Ld2*2} Lg={Lg2} 
R_thclip1 Tj1     Tclip           {1350m+limit(dZth1,0,1)*3m}
C_thclip  Tclip   0               10m
R_thclip2 Tcase2  Tclip           {450m+limit(dZth2,0,1)*1m}

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6L045 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=610u      Rg=3.9       Rd=5u        Rmet=270u
.PARAM Inn=30       Unn=10       Rmax=4.5m    gmin=29
.PARAM act=1.34     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {20.86m+limit(dZth,0,1)*7.71m}
R_th2  t1      t2              {242m+limit(dZth,0,1)*89.57m}
R_th3  t2      t3              {836.63m+limit(dZth,0,1)*43.17m}
R_th4  t3      t4              {1.07+limit(dZth,0,1)*388.75m}
R_th5  t4      Tcase           {734.46m+limit(dZth,0,1)*266.85m}
C_th1  Tj      0               11.66u
C_th2  t1      0               55.134u
C_th3  t2      0               338.613u
C_th4  t3      0               236.133u
C_th5  t4      0               17.55m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC60N04S6L045H battery gate1 gate2 ground phase Tj1 Tj2 Tcase1 Tcase2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 dZth1=0 dZth2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  Tj1 Tcase1 IAUC60N04S6L045 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dZth={dZth1} Ls={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground Tj2 Tcase2 IAUC60N04S6L045 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dZth={dZth2} Ls={Ls2} Ld={Ld2*2} Lg={Lg2} 
R_thclip1 Tj1     Tclip           {1350m+limit(dZth1,0,1)*3m}
C_thclip  Tclip   0               10m
R_thclip2 Tcase2  Tclip           {450m+limit(dZth2,0,1)*1m}

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6N050 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=610u      Rg=4.1       Rd=5u        Rmet=270u
.PARAM Inn=30       Unn=10       Rmax=5.0m    gmin=19
.PARAM act=1.34     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {20.86m+limit(dZth,0,1)*7.71m}
R_th2  t1      t2              {242m+limit(dZth,0,1)*89.57m}
R_th3  t2      t3              {836.63m+limit(dZth,0,1)*43.17m}
R_th4  t3      t4              {1.07+limit(dZth,0,1)*388.75m}
R_th5  t4      Tcase           {734.46m+limit(dZth,0,1)*266.85m}
C_th1  Tj      0               11.66u
C_th2  t1      0               55.134u
C_th3  t2      0               338.613u
C_th4  t3      0               236.133u
C_th5  t4      0               17.55m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC60N04S6N050H battery gate1 gate2 ground phase Tj1 Tj2 Tcase1 Tcase2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 dZth1=0 dZth2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  Tj1 Tcase1 IAUC60N04S6N050 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dZth={dZth1} Ls={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground Tj2 Tcase2 IAUC60N04S6N050 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dZth={dZth2} Ls={Ls2} Ld={Ld2*2} Lg={Lg2} 
R_thclip1 Tj1     Tclip           {1350m+limit(dZth1,0,1)*3m}
C_thclip  Tclip   0               10m
R_thclip2 Tcase2  Tclip           {450m+limit(dZth2,0,1)*1m}

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC45N04S6L063 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=580u      Rg=3.0       Rd=5u        Rmet=240u
.PARAM Inn=22.5     Unn=10       Rmax=6.3m    gmin=21
.PARAM act=0.91     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {30.71m+limit(dZth,0,1)*11.36m}
R_th2  t1      t2              {346.43m+limit(dZth,0,1)*128.22m}
R_th3  t2      t3              {1.19+limit(dZth,0,1)*68.93m}
R_th4  t3      t4              {1.57+limit(dZth,0,1)*392.77m}
R_th5  t4      Tcase           {929.13m+limit(dZth,0,1)*232.45m}
C_th1  Tj      0               7.918u
C_th2  t1      0               38.514u
C_th3  t2      0               238.422u
C_th4  t3      0               160.359u
C_th5  t4      0               16.475m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC45N04S6L063H battery gate1 gate2 ground phase Tj1 Tj2 Tcase1 Tcase2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 dZth1=0 dZth2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  Tj1 Tcase1 IAUC45N04S6L063 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dZth={dZth1} Ls={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground Tj2 Tcase2 IAUC45N04S6L063 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dZth={dZth2} Ls={Ls2} Ld={Ld2*2} Lg={Lg2} 
R_thclip1 Tj1     Tclip           {1350m+limit(dZth1,0,1)*3m}
C_thclip  Tclip   0               10m
R_thclip2 Tcase2  Tclip           {450m+limit(dZth2,0,1)*1m}

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC45N04S6N070 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 dZth=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=580u      Rg=3.2       Rd=5u        Rmet=240u
.PARAM Inn=22.5     Unn=10       Rmax=7.0m    gmin=13
.PARAM act=0.91     Rsp=2.4

X_1  d1 g s sp Tj A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                                     Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2    10
R_gaux gate   g1    10
R_saux source s1    10

R_th1  Tj      t1              {30.71m+limit(dZth,0,1)*11.36m}
R_th2  t1      t2              {346.43m+limit(dZth,0,1)*128.22m}
R_th3  t2      t3              {1.19+limit(dZth,0,1)*68.93m}
R_th4  t3      t4              {1.57+limit(dZth,0,1)*392.77m}
R_th5  t4      Tcase           {929.13m+limit(dZth,0,1)*232.45m}
C_th1  Tj      0               7.918u
C_th2  t1      0               38.514u
C_th3  t2      0               238.422u
C_th4  t3      0               160.359u
C_th5  t4      0               16.475m
C_th6  Tcase   0               30m

.ENDS

**********

.SUBCKT IAUC45N04S6N070H battery gate1 gate2 ground phase Tj1 Tj2 Tcase1 Tcase2 
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 dZth1=0 dZth2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  Tj1 Tcase1 IAUC45N04S6N070 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dZth={dZth1} Ls={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground Tj2 Tcase2 IAUC45N04S6N070 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dZth={dZth2} Ls={Ls2} Ld={Ld2*2} Lg={Lg2} 
R_thclip1 Tj1     Tclip           {1350m+limit(dZth1,0,1)*3m}
C_thclip  Tclip   0               10m
R_thclip2 Tcase2  Tclip           {450m+limit(dZth2,0,1)*1m}

.ENDS




********************************************************************************
* Level 1 Models
********************************************************************************

.SUBCKT IAUA250N04S6N005_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=0.7n Lg=0.1n

.PARAM Rs=85u       Rg=1.0       Rd=6u        Rmet=11u
.PARAM Inn=125      Unn=10       Rmax=0.55m   gmin=126
.PARAM act=14.78    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUA250N04S6N007E_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=0.7n Lg=0.1n

.PARAM Rs=117u      Rg=1.0       Rd=6u        Rmet=19u
.PARAM Inn=125      Unn=10       Rmax=0.7m    gmin=109
.PARAM act=11.11    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUA250N04S6N008_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=0.7n Lg=0.1n

.PARAM Rs=117u      Rg=0.9       Rd=6u        Rmet=19u
.PARAM Inn=125      Unn=10       Rmax=0.8m    gmin=101
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUCN04S6N007T_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=162u      Rg=1.0       Rd=119u      Rmet=6u
.PARAM Inn=60       Unn=10       Rmax=0.75m   gmin=77
.PARAM act=11.58    Rsp=1.6

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUCN04S6N009T_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=173u      Rg=0.9       Rd=121u      Rmet=7u
.PARAM Inn=60       Unn=10       Rmax=0.89m   gmin=70
.PARAM act=9.42     Rsp=1.5

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUCN04S6N013T_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=261u      Rg=1.1       Rd=125u      Rmet=61u
.PARAM Inn=60       Unn=10       Rmax=1.32m   gmin=55
.PARAM act=5.85     Rsp=1.8

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUCN04S6N017T_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.5n Ld=0.3n Lg=3n

.PARAM Rs=211u      Rg=2.5       Rd=129u      Rmet=11u
.PARAM Inn=60       Unn=10       Rmax=1.73m   gmin=46
.PARAM act=4.14     Rsp=4.1

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6L005_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=82u       Rg=1.0       Rd=33u       Rmet=8u
.PARAM Inn=60       Unn=10       Rmax=0.55m   gmin=128
.PARAM act=13.02    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6N006_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=82u       Rg=1.0       Rd=33u       Rmet=8u
.PARAM Inn=60       Unn=10       Rmax=0.6m    gmin=83
.PARAM act=13.02    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6L008_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=150u      Rg=0.8       Rd=5u        Rmet=12u
.PARAM Inn=60       Unn=10       Rmax=0.8m    gmin=108
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_e_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6N008_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=150u      Rg=0.8       Rd=5u        Rmet=12u
.PARAM Inn=60       Unn=10       Rmax=0.8m    gmin=70
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_e1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6N009_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=150u      Rg=0.8       Rd=5u        Rmet=12u
.PARAM Inn=60       Unn=10       Rmax=0.9m    gmin=70
.PARAM act=9.42     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_e1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6L009_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=270u      Rg=0.75      Rd=5u        Rmet=93u
.PARAM Inn=60       Unn=10       Rmax=0.96m   gmin=104
.PARAM act=9.28     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_e_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6N010_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=271u      Rg=0.75      Rd=5u        Rmet=94u
.PARAM Inn=60       Unn=10       Rmax=1.03m   gmin=68
.PARAM act=9.28     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_e1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6L012_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=235u      Rg=0.75      Rd=5u        Rmet=58u
.PARAM Inn=60       Unn=10       Rmax=1.21m   gmin=84
.PARAM act=5.74     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC120N04S6N013_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=236u      Rg=0.75      Rd=5u        Rmet=59u
.PARAM Inn=60       Unn=10       Rmax=1.34m   gmin=54
.PARAM act=5.74     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC100N04S6L014_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=222u      Rg=2.2       Rd=5u        Rmet=45u
.PARAM Inn=50       Unn=10       Rmax=1.40m   gmin=69
.PARAM act=4.672    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC100N04S6N015_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=222u      Rg=2.4       Rd=5u        Rmet=45u
.PARAM Inn=50       Unn=10       Rmax=1.55m   gmin=45
.PARAM act=4.672    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC100N04S6L020_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=378u      Rg=2.3       Rd=5u        Rmet=163u
.PARAM Inn=50       Unn=10       Rmax=2.04m   gmin=57
.PARAM act=3.254    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC100N04S6N022_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=379u      Rg=2.5       Rd=5u        Rmet=164u
.PARAM Inn=50       Unn=10       Rmax=2.26m   gmin=37
.PARAM act=3.254    Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC100N04S6L025_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=320u      Rg=3.0       Rd=5u        Rmet=105u
.PARAM Inn=50       Unn=10       Rmax=2.56m   gmin=50
.PARAM act=2.39     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC100N04S6N028_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=320u      Rg=3.2       Rd=5u        Rmet=105u
.PARAM Inn=50       Unn=10       Rmax=2.86m   gmin=32
.PARAM act=2.39     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC80N04S6L032_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=294u      Rg=2.4       Rd=5u        Rmet=79u
.PARAM Inn=40       Unn=10       Rmax=3.29m   gmin=39
.PARAM act=1.79     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC80N04S6N036_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=294u      Rg=2.4       Rd=5u        Rmet=79u
.PARAM Inn=40       Unn=10       Rmax=3.68m   gmin=25
.PARAM act=1.79     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC60N04S6L039_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=281u      Rg=2.0       Rd=5u        Rmet=66u
.PARAM Inn=30       Unn=10       Rmax=4.02m   gmin=30
.PARAM act=1.39     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC60N04S6N044_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=281u      Rg=2.2       Rd=5u        Rmet=66u
.PARAM Inn=30       Unn=10       Rmax=4.52m   gmin=19
.PARAM act=1.39     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS


**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6L030_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=650u      Rg=3.1       Rd=5u        Rmet=330u
.PARAM Inn=30       Unn=10       Rmax=3.0m    gmin=39
.PARAM act=2.52     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC60N04S6L030H_L1 battery gate1 gate2 ground phase
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  IAUC60N04S6L030_L1 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dLs={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground IAUC60N04S6L030_L1 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dLs={Ls2} Ld={Ld2*2} Lg={Lg2} 

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6N031_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=650u      Rg=3.3       Rd=5u        Rmet=330u
.PARAM Inn=30       Unn=10       Rmax=3.1m    gmin=25
.PARAM act=2.52     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC60N04S6N031H_L1 battery gate1 gate2 ground phase
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  IAUC60N04S6N031_L1 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dLs={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground IAUC60N04S6N031_L1 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dLs={Ls2} Ld={Ld2*2} Lg={Lg2} 

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6L045_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=610u      Rg=3.9       Rd=5u        Rmet=270u
.PARAM Inn=30       Unn=10       Rmax=4.5m    gmin=29
.PARAM act=1.34     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC60N04S6L045H_L1 battery gate1 gate2 ground phase
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  IAUC60N04S6L045_L1 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dLs={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground IAUC60N04S6L045_L1 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dLs={Ls2} Ld={Ld2*2} Lg={Lg2} 

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6N050_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=610u      Rg=4.1       Rd=5u        Rmet=270u
.PARAM Inn=30       Unn=10       Rmax=5.0m    gmin=19
.PARAM act=1.34     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC60N04S6N050H_L1 battery gate1 gate2 ground phase
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  IAUC60N04S6N050_L1 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dLs={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground IAUC60N04S6N050_L1 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dLs={Ls2} Ld={Ld2*2} Lg={Lg2} 

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC45N04S6L063_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=580u      Rg=3.0       Rd=5u        Rmet=240u
.PARAM Inn=22.5     Unn=10       Rmax=6.3m    gmin=21
.PARAM act=0.91     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                              Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC45N04S6L063H_L1 battery gate1 gate2 ground phase
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  IAUC45N04S6L063_L1 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dLs={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground IAUC45N04S6L063_L1 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dLs={Ls2} Ld={Ld2*2} Lg={Lg2} 

.ENDS

**********

* Virtual model for halfbridge
.SUBCKT IAUC45N04S6N070_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 dVbr=0 Ls=0.05n Ld=1n Lg=3n

.PARAM Rs=580u      Rg=3.2       Rd=5u        Rmet=240u
.PARAM Inn=22.5     Unn=10       Rmax=7.0m    gmin=13
.PARAM act=0.91     Rsp=2.4

X_1  d1 g s sp Tj1 A6_40_d1_var PARAMS: a={act} dVth={dVth} dRdson={dRdson} dgfs={dgfs} dC={dC} dVbr={dVbr} 
+                               Inn={Inn} Unn={Unn} Rmax={Rmax} gmin={gmin} Rsp={Rsp} Rs={Rs} Rp={Rd} Rmet={Rmet}
R_g    g1     g    {Rg}
L_g    gate   g1   {Lg*if(dgfs==99,0,1)}
G_s    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)}
R_sa   s1     s    1Meg
L_s    source s1   {Ls*if(dgfs==99,0,1)}
R_da   d1     d2   {Rd}
L_d    drain  d2   {Ld*if(dgfs==99,0,1)}
R_daux drain  d2   10
R_gaux gate   g1   10
R_saux source s1   10

E_2    Tj     w    VALUE={TEMP}
V_p    Tj1    Tj   0
R_1    Tj     Tj1  1u
G_power  0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rmet)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(V_p)}
R_2      w    0    1u

.ENDS

**********

.SUBCKT IAUC45N04S6N070H_L1 battery gate1 gate2 ground phase
+ PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 dVbr1=0 dVbr2=0 Ls1=0.05n Ld1=1n Lg1=3n Ls2=0.05n Ld2=1n Lg2=3n

X_1  battery gate1 phase  IAUC45N04S6N070_L1 PARAMS: dVth={dVth1} dRdson={dRdson1} dgfs={dgfs1} dC={dC1} dVbr={dVbr1} dLs={Ls1} Ld={Ld1*2} Lg={Lg1} 
X_2  phase   gate2 ground IAUC45N04S6N070_L1 PARAMS: dVth={dVth2} dRdson={dRdson2} dgfs={dgfs2} dC={dC2} dVbr={dVbr2} dLs={Ls2} Ld={Ld2*2} Lg={Lg2} 

.ENDS




********************************************************************************
* Level 0 Models
********************************************************************************

.SUBCKT IAUA250N04S6N005_L0  drain  gate  source

L_g     gate   g1   0.1n
L_d     drain  d1   0.7n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   85u TC=3m

R_g     g1    g2     1.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1995.3  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.24m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=3.7n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=10.02n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=14.8p  N=1.045  RS=0.03u  EG=1.12  TT=3n )
R_diode  d1  21    0.1m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   1.5n
.MODEL     DGD    D ( M=0.55   CJO=1.5n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    8.32n

.ENDS  IAUA250N04S6N005_L0

******


.SUBCKT IAUA250N04S6N007E_L0  drain  gate  source

L_g     gate   g1   0.1n
L_d     drain  d1   0.7n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   117u TC=3m

R_g     g1    g2     1.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1499.9  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.31m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=2.78n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=7.67n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=11.1p  N=1.045  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.14m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   1.15n
.MODEL     DGD    D ( M=0.55   CJO=1.15n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    6.25n

.ENDS  IAUA250N04S6N007E_L0

******

.SUBCKT IAUA250N04S6N008_L0  drain  gate  source

L_g     gate   g1   0.1n
L_d     drain  d1   0.7n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   117u TC=3m

R_g     g1    g2     0.9
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1271.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.37m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=2.36n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=6.57n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=9.4p  N=1.045  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.16m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.99n
.MODEL     DGD    D ( M=0.55   CJO=0.99n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    5.3n

.ENDS  IAUA250N04S6N008_L0

******

.SUBCKT IAUCN04S6N007T_L0  drain  gate  source

L_g      gate     g1   3n
L_d      drain    d1   0.3n
L_s      source   s1   0.5n
R_daux   drain    d1   10
R_gaux   gate     g1   10
R_saux   source   s1   10
R_s      s1       s2   162u TC=3m

R_g      g1   g2   1.0
M_1      d2   g2   s2   s2   DMOS   L=1u   W=1u
.MODEL   DMOS NMOS ( KP=1563.3  VTO=3.69  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d      d1   d2   0.45m   TC=4m

D_bd     s2   d2   Dbt
.MODEL   Dbt   D ( BV=43.1  M=0.8  CJO=2.9n  VJ=2.5 )
R_sp     s2   s3   1.6
D_bd1    s3   d2   Dbt1
.MODEL   Dbt1  D ( BV=1000  M=0.8  CJO=7.97n  VJ=2.5 )
D_body   s2   21   DBODY
.MODEL   DBODY D ( IS=11.6p  N=1.045  RS=0.04u  EG=1.12  TT=3n )
R_diode  d1   21   0.43m   TC=2.5m

.MODEL   sw   NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux    g2   c    a    a    sw   L=10u   W=10u
M_aux2   b    d    g2   g2   sw   L=10u   W=10u
E_aux    c    a    d2   g2   1
E_aux2   d    g2   d2   g2   -1
C_ox     b    d2   1.2n
.MODEL   DGD  D ( M=0.55   CJO=1.2n   VJ=0.5 )
* R_par    b    d2   1Meg
D_gd     a    d2   DGD
* R_par2   d2   a    10Meg
C_gs     g2   s2   6.52n

.ENDS  IAUCN04S6N007T_L0

******

.SUBCKT IAUCN04S6N009T_L0  drain  gate  source

L_g      gate     g1   3n
L_d      drain    d1   0.3n
L_s      source   s1   0.5n
R_daux   drain    d1   10
R_gaux   gate     g1   10
R_saux   source   s1   10
R_s      s1       s2   173u TC=3m

R_g      g1   g2   0.9
M_1      d2   g2   s2   s2   DMOS   L=1u   W=1u
.MODEL   DMOS NMOS ( KP=1271.7  VTO=3.69  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d      d1   d2   0.52m   TC=4m

D_bd     s2   d2   Dbt
.MODEL   Dbt   D ( BV=43.1  M=0.8  CJO=2.36n  VJ=2.5 )
R_sp     s2   s3   1.5
D_bd1    s3   d2   Dbt1
.MODEL   Dbt1  D ( BV=1000  M=0.8  CJO=6.57n  VJ=2.5 )
D_body   s2   21   DBODY
.MODEL   DBODY D ( IS=9.4p  N=1.045  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1   21   0.53m   TC=2.5m

.MODEL   sw   NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux    g2   c    a    a    sw   L=10u   W=10u
M_aux2   b    d    g2   g2   sw   L=10u   W=10u
E_aux    c    a    d2   g2   1
E_aux2   d    g2   d2   g2   -1
C_ox     b    d2   0.99n
.MODEL   DGD  D ( M=0.55   CJO=0.99n   VJ=0.5 )
* R_par    b    d2   1Meg
D_gd     a    d2   DGD
* R_par2   d2   a    10Meg
C_gs     g2   s2   5.3n

.ENDS  IAUCN04S6N009T_L0

******

.SUBCKT IAUCN04S6N013T_L0  drain  gate  source

L_g      gate     g1   3n
L_d      drain    d1   0.3n
L_s      source   s1   0.5n
R_daux   drain    d1   10
R_gaux   gate     g1   10
R_saux   source   s1   10
R_s      s1       s2   261u TC=3m

R_g      g1   g2   1.1
M_1      d2   g2   s2   s2   DMOS   L=1u   W=1u
.MODEL   DMOS NMOS ( KP=789.8  VTO=3.69  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d      d1   d2   0.77m   TC=4m

D_bd     s2   d2   Dbt
.MODEL   Dbt   D ( BV=43.1  M=0.8  CJO=1.46n  VJ=2.5 )
R_sp     s2   s3   1.8
D_bd1    s3   d2   Dbt1
.MODEL   Dbt1  D ( BV=1000  M=0.8  CJO=4.24n  VJ=2.5 )
D_body   s2   21   DBODY
.MODEL   DBODY D ( IS=5.9p  N=1.045  RS=0.09u  EG=1.12  TT=3n )
R_diode  d1   21   0.85m   TC=2.5m

.MODEL   sw   NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux    g2   c    a    a    sw   L=10u   W=10u
M_aux2   b    d    g2   g2   sw   L=10u   W=10u
E_aux    c    a    d2   g2   1
E_aux2   d    g2   d2   g2   -1
C_ox     b    d2   0.64n
.MODEL   DGD  D ( M=0.55   CJO=0.64n   VJ=0.5 )
* R_par    b    d2   1Meg
D_gd     a    d2   DGD
* R_par2   d2   a    10Meg
C_gs     g2   s2   3.29n

.ENDS  IAUCN04S6N013T_L0

******

.SUBCKT IAUCN04S6N017T_L0  drain  gate  source

L_g      gate     g1   3n
L_d      drain    d1   0.3n
L_s      source   s1   0.5n
R_daux   drain    d1   10
R_gaux   gate     g1   10
R_saux   source   s1   10
R_s      s1       s2   211u TC=3m

R_g      g1   g2   2.5
M_1      d2   g2   s2   s2   DMOS   L=1u   W=1u
.MODEL   DMOS NMOS ( KP=558.9  VTO=3.69  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d      d1   d2   1.05m   TC=4m

D_bd     s2   d2   Dbt
.MODEL   Dbt   D ( BV=43.1  M=0.8  CJO=1.04n  VJ=2.5 )
R_sp     s2   s3   4.1
D_bd1    s3   d2   Dbt1
.MODEL   Dbt1  D ( BV=1000  M=0.8  CJO=3.09n  VJ=2.5 )
D_body   s2   21   DBODY
.MODEL   DBODY D ( IS=4.1p  N=1.045  RS=0.12u  EG=1.12  TT=3n )
R_diode  d1   21   1.21m   TC=2.5m

.MODEL   sw   NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux    g2   c    a    a    sw   L=10u   W=10u
M_aux2   b    d    g2   g2   sw   L=10u   W=10u
E_aux    c    a    d2   g2   1
E_aux2   d    g2   d2   g2   -1
C_ox     b    d2   0.47n
.MODEL   DGD  D ( M=0.55   CJO=0.47n   VJ=0.5 )
* R_par    b    d2   1Meg
D_gd     a    d2   DGD
* R_par2   d2   a    10Meg
C_gs     g2   s2   2.33n

.ENDS  IAUCN04S6N017T_L0

******

.SUBCKT IAUC120N04S6L005_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   82u TC=3m

R_g     g1    g2     1.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=2604  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.31m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=3.26n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=8.89n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=43.7p  N=1.039  RS=0.04u  EG=1.12  TT=3n )
R_diode  d1  21    0.11m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   1.93n
.MODEL     DGD    D ( M=0.55   CJO=1.93n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    8.31n

.ENDS  IAUC120N04S6L005_L0

******

.SUBCKT IAUC120N04S6N006_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   82u TC=3m

R_g     g1    g2     1.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1757.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.29m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=3.26n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=8.89n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=13p  N=1.045  RS=0.04u  EG=1.12  TT=3n )
R_diode  d1  21    0.11m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   1.33n
.MODEL     DGD    D ( M=0.55   CJO=1.33n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    7.33n

.ENDS  IAUC120N04S6N006_L0

******

.SUBCKT IAUC120N04S6L008_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   150u TC=3m

R_g     g1    g2     0.8
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1884  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.44m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=2.36n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=6.57n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=31.7p  N=1.039  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.16m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   1.4n
.MODEL     DGD    D ( M=0.55   CJO=1.4n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    6.01n

.ENDS  IAUC120N04S6L008_L0

******

.SUBCKT IAUC120N04S6N008_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   150u TC=3m

R_g     g1    g2     0.8
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1271.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.42m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=2.36n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=6.57n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=9.4p  N=1.045  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.16m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.99n
.MODEL     DGD    D ( M=0.55   CJO=0.99n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    5.3n

.ENDS  IAUC120N04S6N008_L0

******

.SUBCKT IAUC120N04S6N009_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   150u TC=3m

R_g     g1    g2     0.8
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1271.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.42m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=2.36n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=6.57n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=9.4p  N=1.045  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.16m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.99n
.MODEL     DGD    D ( M=0.55   CJO=0.99n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    5.3n

.ENDS  IAUC120N04S6N009_L0

******

.SUBCKT IAUC120N04S6L009_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   270u TC=3m

R_g     g1    g2     0.75
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1856  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.45m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=2.32n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=6.48n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=31.2p  N=1.039  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.16m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   1.38n
.MODEL     DGD    D ( M=0.55   CJO=1.38n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    5.92n

.ENDS  IAUC120N04S6L009_L0

******

.SUBCKT IAUC120N04S6N010_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   271u TC=3m

R_g     g1    g2     0.75
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1252.8  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.43m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=2.32n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=6.48n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=9.3p  N=1.045  RS=0.05u  EG=1.12  TT=3n )
R_diode  d1  21    0.16m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.98n
.MODEL     DGD    D ( M=0.55   CJO=0.98n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    5.22n

.ENDS  IAUC120N04S6N010_L0

******

.SUBCKT IAUC120N04S6L012_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   235u TC=3m

R_g     g1    g2     0.75
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=1148  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.63m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=1.44n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=4.16n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=19.3p  N=1.039  RS=0.09u  EG=1.12  TT=3n )
R_diode  d1  21    0.26m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.86n
.MODEL     DGD    D ( M=0.55   CJO=0.86n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    3.66n

.ENDS  IAUC120N04S6L012_L0

******

.SUBCKT IAUC120N04S6N013_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   236u TC=3m

R_g     g1    g2     0.75
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=774.9  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.6m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=1.44n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=4.16n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=5.7p  N=1.045  RS=0.09u  EG=1.12  TT=3n )
R_diode  d1  21    0.26m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.63n
.MODEL     DGD    D ( M=0.55   CJO=0.63n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    3.23n

.ENDS  IAUC120N04S6N013_L0

******

.SUBCKT IAUC100N04S6L014_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   222u TC=3m

R_g     g1    g2     2.2
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=934.4  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.77m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=1.17n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=3.45n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=15.7p  N=1.039  RS=0.11u  EG=1.12  TT=3n )
R_diode  d1  21    0.32m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.71n
.MODEL     DGD    D ( M=0.55   CJO=0.71n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    2.98n

.ENDS  IAUC100N04S6L014_L0

******

.SUBCKT IAUC100N04S6N015_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   222u TC=3m

R_g     g1    g2     2.4
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=630.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    0.74m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=1.17n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=3.45n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=4.7p  N=1.045  RS=0.11u  EG=1.12  TT=3n )
R_diode  d1  21    0.32m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.52n
.MODEL     DGD    D ( M=0.55   CJO=0.52n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    2.63n

.ENDS  IAUC100N04S6N015_L0

******

.SUBCKT IAUC100N04S6L020_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   378u TC=3m

R_g     g1    g2     2.3
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=650.8  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.11m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.81n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=2.49n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=10.9p  N=1.039  RS=0.15u  EG=1.12  TT=3n )
R_diode  d1  21    0.46m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.5n
.MODEL     DGD    D ( M=0.55   CJO=0.5n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    2.08n

.ENDS  IAUC100N04S6L020_L0

******

.SUBCKT IAUC100N04S6N022_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   379u TC=3m

R_g     g1    g2     2.5
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=439.3  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.05m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.81n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=2.49n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=3.3p  N=1.045  RS=0.15u  EG=1.12  TT=3n )
R_diode  d1  21    0.46m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.38n
.MODEL     DGD    D ( M=0.55   CJO=0.38n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.83n

.ENDS  IAUC100N04S6N022_L0

******

.SUBCKT IAUC100N04S6L025_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   320u TC=3m

R_g     g1    g2     3.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=478  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.51m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.6n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.9n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=8p  N=1.039  RS=0.21u  EG=1.12  TT=3n )
R_diode  d1  21    0.63m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.37n
.MODEL     DGD    D ( M=0.55   CJO=0.37n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.52n

.ENDS  IAUC100N04S6L025_L0

******

.SUBCKT IAUC100N04S6N028_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   320u TC=3m

R_g     g1    g2     3.2
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=322.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.43m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.6n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.9n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=2.4p  N=1.045  RS=0.21u  EG=1.12  TT=3n )
R_diode  d1  21    0.63m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.29n
.MODEL     DGD    D ( M=0.55   CJO=0.29n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.35n

.ENDS  IAUC100N04S6N028_L0

******

.SUBCKT IAUC80N04S6L032_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   294u TC=3m

R_g     g1    g2     2.4
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=358  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    2.02m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.45n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.48n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=6p  N=1.039  RS=0.28u  EG=1.12  TT=3n )
R_diode  d1  21    0.84m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.28n
.MODEL     DGD    D ( M=0.55   CJO=0.28n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.14n

.ENDS  IAUC80N04S6L032_L0

******

.SUBCKT IAUC80N04S6N036_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   294u TC=3m

R_g     g1    g2     2.4
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=241.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.92m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.45n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.48n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=1.8p  N=1.045  RS=0.28u  EG=1.12  TT=3n )
R_diode  d1  21    0.84m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.23n
.MODEL     DGD    D ( M=0.55   CJO=0.23n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.01n

.ENDS  IAUC80N04S6N036_L0

******

.SUBCKT IAUC60N04S6L039_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   281u TC=3m

R_g     g1    g2     2.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=278  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    2.59m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.35n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.19n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=4.7p  N=1.039  RS=0.36u  EG=1.12  TT=3n )
R_diode  d1  21    1.08m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.22n
.MODEL     DGD    D ( M=0.55   CJO=0.22n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    0.89n

.ENDS  IAUC60N04S6L039_L0

******

.SUBCKT IAUC60N04S6N044_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   281u TC=3m

R_g     g1    g2     2.2
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=187.7  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    2.47m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.35n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.19n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=1.4p  N=1.045  RS=0.36u  EG=1.12  TT=3n )
R_diode  d1  21    1.08m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.18n
.MODEL     DGD    D ( M=0.55   CJO=0.18n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    0.78n

.ENDS  IAUC60N04S6N044_L0

******

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6L030_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   650u TC=3m

R_g     g1    g2     3.1
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=504  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.43m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.63n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.99n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=8.5p  N=1.039  RS=0.2u  EG=1.12  TT=3n )
R_diode  d1  21    0.59m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.39n
.MODEL     DGD    D ( M=0.55   CJO=0.39n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.61n

.ENDS  IAUC60N04S6L030_L0

**********

.SUBCKT IAUC60N04S6L030H_L0 battery gate1 gate2 ground phase

X_1  battery gate1 phase  IAUC60N04S6L030_L0 
X_2  phase   gate2 ground IAUC60N04S6L030_L0 

.ENDS  IAUC60N04S6L030H_L0

******

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6N031_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   650u TC=3m

R_g     g1    g2     3.3
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=340.2  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    1.36m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.63n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.99n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=2.5p  N=1.045  RS=0.2u  EG=1.12  TT=3n )
R_diode  d1  21    0.59m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.31n
.MODEL     DGD    D ( M=0.55   CJO=0.31n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    1.42n

.ENDS  IAUC60N04S6N031_L0

**********

.SUBCKT IAUC60N04S6N031H_L0 battery gate1 gate2 ground phase

X_1  battery gate1 phase  IAUC60N04S6N031_L0 
X_2  phase   gate2 ground IAUC60N04S6N031_L0 

.ENDS  IAUC60N04S6N031H_L0

******

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6L045_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   610u TC=3m

R_g     g1    g2     3.9
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=268  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    2.69m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.34n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.15n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=4.5p  N=1.039  RS=0.37u  EG=1.12  TT=3n )
R_diode  d1  21    1.12m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.21n
.MODEL     DGD    D ( M=0.55   CJO=0.21n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    0.85n

.ENDS  IAUC60N04S6L045_L0

**********

.SUBCKT IAUC60N04S6L045H_L0 battery gate1 gate2 ground phase

X_1  battery gate1 phase  IAUC60N04S6L045_L0 
X_2  phase   gate2 ground IAUC60N04S6L045_L0 

.ENDS  IAUC60N04S6L045H_L0

******

* Virtual model for halfbridge
.SUBCKT IAUC60N04S6N050_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   610u TC=3m

R_g     g1    g2     4.1
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=180.9  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    2.56m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.34n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=1.15n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=1.3p  N=1.045  RS=0.37u  EG=1.12  TT=3n )
R_diode  d1  21    1.12m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.18n
.MODEL     DGD    D ( M=0.55   CJO=0.18n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    0.75n

.ENDS  IAUC60N04S6N050_L0

**********

.SUBCKT IAUC60N04S6N050H_L0 battery gate1 gate2 ground phase

X_1  battery gate1 phase  IAUC60N04S6N050_L0 
X_2  phase   gate2 ground IAUC60N04S6N050_L0 

.ENDS  IAUC60N04S6N050H_L0

******

* Virtual model for halfbridge
.SUBCKT IAUC45N04S6L063_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   580u TC=3m

R_g     g1    g2     3.0
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=182  VTO=2.2  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    4.0m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.1  M=0.8  CJO=0.23n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=0.83n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=3.1p  N=1.039  RS=0.55u  EG=1.12  TT=3n )
R_diode  d1  21    1.65m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.15n
.MODEL     DGD    D ( M=0.55   CJO=0.15n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    0.58n

.ENDS  IAUC45N04S6L063_L0

**********

.SUBCKT IAUC45N04S6L063H_L0 battery gate1 gate2 ground phase

X_1  battery gate1 phase  IAUC45N04S6L063_L0 
X_2  phase   gate2 ground IAUC45N04S6L063_L0 

.ENDS  IAUC45N04S6L063H_L0

******

* Virtual model for halfbridge
.SUBCKT IAUC45N04S6N070_L0  drain  gate  source

L_g     gate   g1   3n
L_d     drain  d1   1n
L_s     source s1   0.05n
R_daux  drain  d1   10
R_gaux  gate   g1   10
R_saux  source s1   10
R_s     s1     s2   580u TC=3m

R_g     g1    g2     3.2
M_1     d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=122.9  VTO=3.5  THETA=0  VMAX=1.5e5  ETA=0.005  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=3 )
R_d     d1    d2    3.76m TC=4m

D_bd     s2    d2    Dbt
.MODEL     Dbt    D ( BV=42.9  M=0.8  CJO=0.23n  VJ=2.5 )
R_sp     s2    s3     2.4
D_bd1     s3    d2    Dbt1
.MODEL     Dbt1    D ( BV=1000  M=0.8  CJO=0.83n  VJ=2.5 )
D_body   s2   21    DBODY
.MODEL DBODY  D ( IS=0.9p  N=1.045  RS=0.55u  EG=1.12  TT=3n )
R_diode  d1  21    1.65m TC=2.5m

.MODEL   sw    NMOS ( VTO=0  KP=10  LAMBDA=1m  CGDO=1f  CGSO=1f  CGBO=1f  IS=0  LEVEL=1 )
M_aux      g2   c    a    a   sw   L=10u   W=10u
M_aux2     b    d    g2    g2   sw   L=10u   W=10u
E_aux      c    a    d2    g2   1
E_aux2     d    g2   d2    g2   -1
C_ox       b    d2   0.13n
.MODEL     DGD    D ( M=0.55   CJO=0.13n   VJ=0.5 )
* R_par      b    d2   1Meg
D_gd       a    d2   DGD
* R_par2     d2   a    10Meg
C_gs     g2    s2    0.51n

.ENDS  IAUC45N04S6N070_L0

**********

.SUBCKT IAUC45N04S6N070H_L0 battery gate1 gate2 ground phase

X_1  battery gate1 phase  IAUC45N04S6N070_L0 
X_2  phase   gate2 ground IAUC45N04S6N070_L0 

.ENDS  IAUC45N04S6N070H_L0

******

.MODEL _defaultIdealDiodeModel D



** Top cell:
**__________
** Subcircuit
** __________
** Library name: EasyBLDCPowerStageV3
** Cell name: EasyBLDCV3
** View name: schematic
**
C1 n8_1 0   C='1e-08'  
C0 n1_1 Output   C='1e-06'  
L0 n26_1 0   L='0.001'   
R1 n3_3 Output   R='10000' 
R2 n2_2 n4_1   R='33' 
R0 n2_2 CSense   R='10000' 
V1 n3_4 0  DC= '24' 
R5 n4_3 n3_3   R='33' 
R4 Output n8_1   R='1' 
R3 0 CSense   R='0.003' 
V2 n4_8 0  DC= '24' 
V3 IN1 0  PULSE(  '0'  '3.3'  '1.01e-05'  '1e-08'  '1e-08'  '9.9e-06'  '2e-05' ) 
R6 Output n26_1   R='10' 
V0 IN2 0  PULSE(  '3.3'  '0'  '9.9e-06'  '1e-08'  '1e-08'  '1.01e-05'  '2e-05' ) 
X1 n4_1 n4_3 0 IN2 IN1 n4_8 n1_1 Output 2EDL05N06PF
X0 n3_4 n3_3 n2_2 CSense Output IAUC60N04S6N031H_L1
** End of top cell

** Analysis statements
.TRAN '1m/1000.0' '1m'
.OUTPUT TRAN LEVEL=0 V(*) V(0)
.OUTPUT TRAN LEVEL=0 I(*,*)

** Simulator options
.TEMP 27 UET
.PARAM TEMP='27'
.OPTIONS ACCURACY=STANDARD
.OPTIONS RSHUNT=1.0G

** configure output format
.OPTIONS CSDF

.SAVE 'EasyBLDCV3'

.END
